{"version":3,"file":"base-button.js","sourceRoot":"","sources":["../../../src/components/button/base-button.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { FunctionalComponent, h } from '@stencil/core';\nimport { A11yAttributes } from '../utils/a11y';\nimport { ButtonVariant } from './button';\nimport { AnchorInterface } from './button.interface';\n\nexport type ButtonAlignment = 'center' | 'start';\n\nexport const getButtonClasses = (\n  variant: ButtonVariant,\n  iconOnly = false,\n  iconOval = false,\n  selected: boolean,\n  disabled: boolean\n) => {\n  return {\n    btn: true,\n    [`btn-${variant}`]: true,\n    'btn-icon': iconOnly,\n    'btn-oval': iconOval,\n    selected: selected,\n    disabled: disabled,\n  };\n};\n\nexport type BaseButtonProps = {\n  type: string;\n  variant: ButtonVariant;\n  iconOnly: boolean;\n  iconOval: boolean;\n  selected: boolean;\n  disabled: boolean;\n  loading: boolean;\n  icon?: string;\n  iconRight?: string;\n  onClick?: Function;\n  ariaAttributes?: A11yAttributes;\n  extraClasses?: { [key: string]: boolean };\n  iconSize?: string;\n  iconColor?: string;\n  alignment?: ButtonAlignment;\n  tabIndex?: number;\n  afterContent?: any;\n} & AnchorInterface;\n\nconst getSpinnerSize = (btnProps: BaseButtonProps) => {\n  if (!btnProps.icon) {\n    return 'small';\n  }\n\n  switch (btnProps.iconSize) {\n    case '12':\n      return 'xx-small';\n    case '16':\n      return 'x-small';\n    default:\n      return 'small';\n  }\n};\n\nconst handleOnClick = (e: Event, props: BaseButtonProps) => {\n  if (props.disabled || props.loading) {\n    e.preventDefault();\n    e.stopPropagation();\n    return;\n  }\n  if (props.onClick) {\n    props.onClick(e);\n  }\n};\n\nexport const BaseButton: FunctionalComponent<BaseButtonProps> = (\n  props: BaseButtonProps,\n  children\n) => {\n  const extraClasses = props.extraClasses ?? {};\n\n  const ariaAttributes = props.ariaAttributes ?? {};\n  if (!ariaAttributes['aria-disabled'] && props.disabled) {\n    ariaAttributes['aria-disabled'] = 'true';\n  }\n\n  const commonAttributes = {\n    ...ariaAttributes,\n    tabindex: props.disabled ? -1 : (props.tabIndex ?? 0),\n    class: {\n      ...getButtonClasses(\n        props.variant,\n        props.iconOnly,\n        props.iconOval,\n        props.selected,\n        props.disabled || props.loading\n      ),\n      ...extraClasses,\n    },\n  };\n\n  const buttonContent = [\n    props.loading ? (\n      <ix-spinner size={getSpinnerSize(props)} hideTrack></ix-spinner>\n    ) : null,\n    props.icon && !props.loading ? (\n      <ix-icon\n        class=\"icon\"\n        name={props.icon}\n        size={props.iconSize as any}\n        color={props.iconColor}\n      ></ix-icon>\n    ) : null,\n    <div\n      class={{\n        content: true,\n        [`content-${props.alignment}`]: !!props.alignment,\n      }}\n    >\n      {children}\n    </div>,\n    props.iconRight ? (\n      <ix-icon\n        class=\"icon-right\"\n        name={props.iconRight}\n        size={props.iconSize as any}\n        color={props.iconColor}\n      ></ix-icon>\n    ) : null,\n    props.afterContent ? props.afterContent : null,\n  ];\n\n  // If href is provided, render as an anchor tag\n  if (props.href) {\n    return (\n      <a\n        {...commonAttributes}\n        href={props.disabled ? undefined : props.href}\n        target={props.target}\n        role=\"button\"\n        rel={props.rel}\n        onClick={(e: Event) => handleOnClick(e, props)}\n      >\n        {buttonContent}\n      </a>\n    );\n  }\n\n  // Otherwise, render as a button\n  return (\n    <button\n      {...commonAttributes}\n      onClick={(e: Event) => handleOnClick(e, props)}\n      type={props.type}\n    >\n      {buttonContent}\n    </button>\n  );\n};\n"]}