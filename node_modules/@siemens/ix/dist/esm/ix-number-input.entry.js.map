{"version":3,"file":"ix-number-input.entry.js","sources":["src/components/input/number-input.scss?tag=ix-number-input&encapsulation=shadow","src/components/input/number-input.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n@use './input.mixins.scss';\n\n@include input.input-field;\n\n:host {\n  .input-wrapper.show-stepper-buttons {\n    input[type='number'] {\n      min-width: 6rem;\n    }\n  }\n\n  .number-stepper-container {\n    display: flex;\n    position: relative;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    margin-right: 0.25rem;\n\n    &.container-hidden {\n      display: none;\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2025 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { iconMinus, iconPlus } from '@siemens/ix-icons/icons';\nimport {\n  AttachInternals,\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Method,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core';\nimport {\n  HookValidationLifecycle,\n  IxInputFieldComponent,\n  ValidationResults,\n} from '../utils/input';\nimport { makeRef } from '../utils/make-ref';\nimport { InputElement, SlotEnd, SlotStart } from './input.fc';\nimport {\n  addDisposableChangesAndVisibilityObservers,\n  adjustPaddingForStartAndEnd,\n  checkAllowedKeys,\n  checkInternalValidity,\n  DisposableChangesAndVisibilityObservers,\n  mapValidationResult,\n  onInputBlur,\n} from './input.util';\n\nlet numberInputIds = 0;\n\nconst INVALID_NUMBER_INPUT_REGEX = /[^\\dEe+\\-.,]/;\n\n/**\n * @form-ready\n * @slot start - Element will be displayed at the start of the input\n * @slot end - Element will be displayed at the end of the input\n */\n@Component({\n  tag: 'ix-number-input',\n  styleUrl: 'number-input.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NumberInput implements IxInputFieldComponent<number> {\n  @Element() hostElement!: HTMLIxNumberInputElement;\n  @AttachInternals() formInternals!: ElementInternals;\n\n  /**\n   * name of the input element\n   */\n  @Prop({ reflect: true }) name?: string;\n\n  /**\n   * placeholder of the input element\n   */\n  @Prop({ reflect: true }) placeholder?: string;\n\n  /**\n   * The value of the input field. Supports numeric values, scientific notation (1E6, 1E-6), or undefined for empty.\n   */\n  @Prop({ reflect: true, mutable: true }) value?: number = 0;\n\n  /**\n   * Indicates if the field is required. When required, empty values (undefined) are not accepted.\n   */\n  @Prop({ reflect: true }) required: boolean = false;\n\n  /**\n   * Disables the input field\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Indicates if the field is read-only\n   */\n  @Prop() readonly: boolean = false;\n\n  /**\n   * The helper text for the input field\n   */\n  @Prop() helperText?: string;\n\n  /**\n   * The info text for the input field\n   */\n  @Prop() infoText?: string;\n\n  /**\n   * Indicates if the text should be shown as a tooltip\n   */\n  @Prop() showTextAsTooltip?: boolean;\n\n  /**\n   * The valid text for the input field\n   */\n  @Prop() validText?: string;\n\n  /**\n   * The warning text for the input field\n   */\n  @Prop() warningText?: string;\n\n  /**\n   * The label for the input field\n   */\n  @Prop({ reflect: true }) label?: string;\n\n  /**\n   * The error text for the input field\n   */\n  @Prop() invalidText?: string;\n\n  /**\n   * The pattern for the input field\n   */\n  @Prop() pattern?: string;\n\n  /**\n   * The minimum value for the input field\n   */\n  @Prop() min?: string | number;\n\n  /**\n   * The maximum value for the input field\n   */\n  @Prop() max?: string | number;\n\n  /**\n   * The allowed characters pattern for the input field\n   */\n  @Prop() allowedCharactersPattern?: string;\n\n  /**\n   * Indicates if the stepper buttons should be shown\n   */\n  @Prop() showStepperButtons?: boolean;\n\n  /**\n   * Step value to increment or decrement the input value. Default step value is 1.\n   *\n   */\n  @Prop() step?: string | number = 1;\n\n  /**\n   * If false, pressing Enter will submit the form (if inside a form).\n   * Set to true to suppress submit on Enter.\n   */\n  @Prop({ reflect: true }) suppressSubmitOnEnter: boolean = false;\n\n  /**\n   * Text alignment within the number input. 'start' aligns the text to the start of the input, 'end' aligns the text to the end of the input.\n   */\n  @Prop() textAlignment: 'start' | 'end' = 'end';\n\n  /**\n   * If true, the valueChange event will return null instead of 0 for an empty input state.\n   * This property will be removed in 5.0.0 and this behaviour will be default.\n   *\n   * @since 4.1.0\n   */\n  @Prop({ reflect: true }) allowEmptyValueChange: boolean = false;\n\n  /**\n   * Event emitted when the value of the input field changes\n   */\n  @Event() valueChange!: EventEmitter<number>;\n\n  /**\n   * Event emitted when the validity state of the input field changes\n   */\n  @Event() validityStateChange!: EventEmitter<ValidityState>;\n\n  /**\n   * Event emitted when the input field loses focus\n   */\n  @Event() ixBlur!: EventEmitter<void>;\n\n  @State() isInvalid = false;\n  @State() isValid = false;\n  @State() isInfo = false;\n  @State() isWarning = false;\n  @State() isInvalidByRequired = false;\n\n  private readonly inputRef = makeRef<HTMLInputElement>();\n  private readonly slotEndRef = makeRef<HTMLDivElement>();\n  private readonly slotStartRef = makeRef<HTMLDivElement>();\n  private readonly numberInputId = `number-input-${numberInputIds++}`;\n  private touched = false;\n\n  private disposableChangesAndVisibilityObservers?: DisposableChangesAndVisibilityObservers;\n\n  @Watch('value')\n  onValueChange(newValue: number | undefined) {\n    this.updateFormInternalValue(newValue!);\n  }\n\n  @HookValidationLifecycle()\n  updateClassMappings(result: ValidationResults) {\n    mapValidationResult(this, result);\n  }\n\n  componentWillLoad() {\n    this.updateFormInternalValue(this.value!);\n  }\n\n  connectedCallback() {\n    this.disposableChangesAndVisibilityObservers =\n      addDisposableChangesAndVisibilityObservers(\n        this.hostElement,\n        this.updatePaddings.bind(this)\n      );\n  }\n\n  disconnectedCallback() {\n    this.disposableChangesAndVisibilityObservers?.();\n  }\n\n  private updatePaddings() {\n    adjustPaddingForStartAndEnd(\n      this.slotStartRef.current,\n      this.slotEndRef.current,\n      this.inputRef.current\n    );\n  }\n\n  private convertNumberStringToFloat(input: string): number | undefined {\n    if (!input || input.trim() === '') {\n      return undefined;\n    }\n\n    const parsed = Number.parseFloat(input);\n    return Number.isNaN(parsed) ? undefined : parsed;\n  }\n\n  private isScientificNotation(input: string): boolean {\n    const parsed = Number.parseFloat(input);\n    return (\n      !Number.isNaN(parsed) && Number.isFinite(parsed) && /[eE]/.test(input)\n    );\n  }\n\n  private formatValue(value: number | undefined): string {\n    if (value === undefined || value === null) {\n      return '';\n    }\n    return value.toString();\n  }\n\n  private handleValueChangeEvent(value: number | undefined) {\n    this.valueChange.emit(this.allowEmptyValueChange ? value : (value ?? 0));\n  }\n\n  updateFormInternalValue(value: number) {\n    const formValue =\n      value !== undefined && value !== null ? value.toString() : '';\n    this.formInternals.setFormValue(formValue);\n    this.value = value;\n  }\n\n  private readonly handleInputChange = (inputValue: string) => {\n    const parsedValue = this.convertNumberStringToFloat(inputValue);\n    const isScientificNotation = this.isScientificNotation(inputValue.trim());\n\n    if (isScientificNotation) {\n      this.formInternals.setFormValue(inputValue);\n    }\n\n    this.handleValueChangeEvent(parsedValue);\n  };\n\n  private readonly handleBlur = () => {\n    if (!this.inputRef.current) return;\n\n    const inputValue = this.inputRef.current.value;\n\n    const parsedValue = this.convertNumberStringToFloat(inputValue);\n\n    if (parsedValue !== undefined) {\n      this.inputRef.current.value = this.formatValue(parsedValue);\n    }\n\n    this.updateFormInternalValue(parsedValue!);\n\n    onInputBlur(this, this.inputRef.current);\n    this.touched = true;\n  };\n\n  private readonly handleKeyDown = (event: KeyboardEvent) => {\n    if (this.disabled || this.readonly) {\n      return;\n    }\n\n    switch (event.key) {\n      case 'ArrowUp':\n        event.preventDefault();\n        this.handleStepOperation('up');\n        break;\n      case 'ArrowDown':\n        event.preventDefault();\n        this.handleStepOperation('down');\n        break;\n    }\n  };\n\n  private readonly handleBeforeInput = (e: InputEvent) => {\n    if (this.disabled || this.readonly) return;\n\n    if (e.inputType === 'insertText') {\n      const character = e.data;\n\n      if (character && INVALID_NUMBER_INPUT_REGEX.test(character)) {\n        e.preventDefault();\n      }\n    }\n\n    if (e.inputType === 'insertFromPaste') {\n      const dt = e.dataTransfer || (e as any).clipboardData;\n      const text = dt?.getData?.('text') ?? '';\n      if (INVALID_NUMBER_INPUT_REGEX.test(text)) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  private readonly handlePaste = (e: ClipboardEvent) => {\n    // Fallback for browsers that donâ€™t fire beforeinput for paste\n    const text = e.clipboardData?.getData('text') ?? '';\n    if (INVALID_NUMBER_INPUT_REGEX.test(text)) {\n      e.preventDefault();\n    }\n  };\n\n  private handleStepOperation(operation: 'up' | 'down') {\n    if (!this.inputRef.current) {\n      return;\n    }\n\n    const currentValue = this.value ?? 0;\n    const stepValue =\n      typeof this.step === 'string'\n        ? Number.parseFloat(this.step)\n        : (this.step ?? 1);\n\n    let newValue: number;\n\n    if (operation === 'up') {\n      newValue = currentValue + stepValue;\n    } else {\n      newValue = currentValue - stepValue;\n    }\n\n    if (this.min !== undefined) {\n      const minValue =\n        typeof this.min === 'string' ? Number.parseFloat(this.min) : this.min;\n      newValue = Math.max(newValue, minValue);\n    }\n\n    if (this.max !== undefined) {\n      const maxValue =\n        typeof this.max === 'string' ? Number.parseFloat(this.max) : this.max;\n      newValue = Math.min(newValue, maxValue);\n    }\n\n    this.inputRef.current.value = newValue.toString();\n    this.updateFormInternalValue(newValue);\n    checkInternalValidity(this, this.inputRef.current);\n    this.handleValueChangeEvent(newValue);\n  }\n\n  /** @internal */\n  @Method()\n  async getAssociatedFormElement(): Promise<HTMLFormElement | null> {\n    return this.formInternals.form;\n  }\n\n  /** @internal */\n  @Method()\n  async hasValidValue(): Promise<boolean> {\n    const nativeInput = await this.getNativeInputElement();\n    if (nativeInput.value === '') {\n      return !this.required;\n    }\n\n    const parsedValue = this.convertNumberStringToFloat(nativeInput.value);\n    return parsedValue !== undefined;\n  }\n\n  /**\n   * Returns the native input element used under the hood\n   */\n  @Method()\n  getNativeInputElement(): Promise<HTMLInputElement> {\n    return this.inputRef.waitForCurrent();\n  }\n\n  /**\n   * Focuses the input field\n   */\n  @Method()\n  async focusInput(): Promise<void> {\n    return (await this.getNativeInputElement()).focus();\n  }\n\n  /**\n   * Returns true if the input field has been touched\n   * @internal\n   */\n  @Method()\n  isTouched(): Promise<boolean> {\n    return Promise.resolve(this.touched);\n  }\n\n  render() {\n    const showStepperButtons =\n      this.showStepperButtons && (this.disabled || this.readonly) === false;\n\n    return (\n      <Host\n        class={{\n          disabled: this.disabled,\n          readonly: this.readonly,\n        }}\n      >\n        <ix-field-wrapper\n          id={this.numberInputId}\n          required={this.required}\n          label={this.label}\n          helperText={this.helperText}\n          invalidText={this.invalidText}\n          infoText={this.infoText}\n          warningText={this.warningText}\n          validText={this.validText}\n          showTextAsTooltip={this.showTextAsTooltip}\n          isInvalid={this.isInvalid}\n          isValid={this.isValid}\n          isInfo={this.isInfo}\n          isWarning={this.isWarning}\n          controlRef={this.inputRef}\n        >\n          <div\n            class={{\n              'input-wrapper': true,\n              'show-stepper-buttons': !!this.showStepperButtons,\n            }}\n          >\n            <SlotStart\n              slotStartRef={this.slotStartRef}\n              onSlotChange={() => this.updatePaddings()}\n            ></SlotStart>\n\n            <InputElement\n              id={this.numberInputId}\n              readonly={this.readonly}\n              disabled={this.disabled}\n              step={this.step}\n              min={this.min}\n              max={this.max}\n              pattern={this.pattern}\n              type={'number'}\n              isInvalid={this.isInvalid}\n              required={this.required}\n              value={this.formatValue(this.value)}\n              placeholder={this.placeholder}\n              inputRef={this.inputRef}\n              onKeyPress={(event) => checkAllowedKeys(this, event)}\n              onKeyDown={(event) => this.handleKeyDown(event)}\n              onBeforeInput={(event) => this.handleBeforeInput(event)}\n              onPaste={(event) => this.handlePaste(event)}\n              valueChange={this.handleInputChange}\n              updateFormInternalValue={(value) => {\n                const isScientificNotation = this.isScientificNotation(\n                  value.trim()\n                );\n\n                if (!isScientificNotation) {\n                  const parsedValue = this.convertNumberStringToFloat(value);\n                  this.updateFormInternalValue(parsedValue!);\n                }\n              }}\n              onBlur={this.handleBlur}\n              form={this.formInternals.form ?? undefined}\n              suppressSubmitOnEnter={this.suppressSubmitOnEnter}\n              textAlignment={this.textAlignment}\n            ></InputElement>\n            <SlotEnd\n              slotEndRef={this.slotEndRef}\n              onSlotChange={() => this.updatePaddings()}\n            >\n              <div\n                class={{\n                  'number-stepper-container': true,\n                  'container-hidden': !showStepperButtons,\n                }}\n              >\n                <ix-icon-button\n                  variant=\"subtle-tertiary\"\n                  icon={iconMinus}\n                  size=\"16\"\n                  class=\"number-stepper-button step-minus\"\n                  aria-label=\"decrement number\"\n                  onClick={() => this.handleStepOperation('down')}\n                ></ix-icon-button>\n                <ix-icon-button\n                  variant=\"subtle-tertiary\"\n                  icon={iconPlus}\n                  size=\"16\"\n                  class=\"number-stepper-button step-plus\"\n                  aria-label=\"increment number\"\n                  onClick={() => this.handleStepOperation('up')}\n                ></ix-icon-button>\n              </div>\n            </SlotEnd>\n          </div>\n        </ix-field-wrapper>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}