{"version":3,"file":"base-button-CjsUotrL.js","sources":["src/components/button/base-button.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { FunctionalComponent, h } from '@stencil/core';\nimport { A11yAttributes } from '../utils/a11y';\nimport { ButtonVariant } from './button';\nimport { AnchorInterface } from './button.interface';\n\nexport type ButtonAlignment = 'center' | 'start';\n\nexport const getButtonClasses = (\n  variant: ButtonVariant,\n  iconOnly = false,\n  iconOval = false,\n  selected: boolean,\n  disabled: boolean\n) => {\n  return {\n    btn: true,\n    [`btn-${variant}`]: true,\n    'btn-icon': iconOnly,\n    'btn-oval': iconOval,\n    selected: selected,\n    disabled: disabled,\n  };\n};\n\nexport type BaseButtonProps = {\n  type: string;\n  variant: ButtonVariant;\n  iconOnly: boolean;\n  iconOval: boolean;\n  selected: boolean;\n  disabled: boolean;\n  loading: boolean;\n  icon?: string;\n  iconRight?: string;\n  onClick?: Function;\n  ariaAttributes?: A11yAttributes;\n  extraClasses?: { [key: string]: boolean };\n  iconSize?: string;\n  iconColor?: string;\n  alignment?: ButtonAlignment;\n  tabIndex?: number;\n  afterContent?: any;\n} & AnchorInterface;\n\nconst getSpinnerSize = (btnProps: BaseButtonProps) => {\n  if (!btnProps.icon) {\n    return 'small';\n  }\n\n  switch (btnProps.iconSize) {\n    case '12':\n      return 'xx-small';\n    case '16':\n      return 'x-small';\n    default:\n      return 'small';\n  }\n};\n\nconst handleOnClick = (e: Event, props: BaseButtonProps) => {\n  if (props.disabled || props.loading) {\n    e.preventDefault();\n    e.stopPropagation();\n    return;\n  }\n  if (props.onClick) {\n    props.onClick(e);\n  }\n};\n\nexport const BaseButton: FunctionalComponent<BaseButtonProps> = (\n  props: BaseButtonProps,\n  children\n) => {\n  const extraClasses = props.extraClasses ?? {};\n\n  const ariaAttributes = props.ariaAttributes ?? {};\n  if (!ariaAttributes['aria-disabled'] && props.disabled) {\n    ariaAttributes['aria-disabled'] = 'true';\n  }\n\n  const commonAttributes = {\n    ...ariaAttributes,\n    tabindex: props.disabled ? -1 : (props.tabIndex ?? 0),\n    class: {\n      ...getButtonClasses(\n        props.variant,\n        props.iconOnly,\n        props.iconOval,\n        props.selected,\n        props.disabled || props.loading\n      ),\n      ...extraClasses,\n    },\n  };\n\n  const buttonContent = [\n    props.loading ? (\n      <ix-spinner size={getSpinnerSize(props)} hideTrack></ix-spinner>\n    ) : null,\n    props.icon && !props.loading ? (\n      <ix-icon\n        class=\"icon\"\n        name={props.icon}\n        size={props.iconSize as any}\n        color={props.iconColor}\n      ></ix-icon>\n    ) : null,\n    <div\n      class={{\n        content: true,\n        [`content-${props.alignment}`]: !!props.alignment,\n      }}\n    >\n      {children}\n    </div>,\n    props.iconRight ? (\n      <ix-icon\n        class=\"icon-right\"\n        name={props.iconRight}\n        size={props.iconSize as any}\n        color={props.iconColor}\n      ></ix-icon>\n    ) : null,\n    props.afterContent ? props.afterContent : null,\n  ];\n\n  // If href is provided, render as an anchor tag\n  if (props.href) {\n    return (\n      <a\n        {...commonAttributes}\n        href={props.disabled ? undefined : props.href}\n        target={props.target}\n        role=\"button\"\n        rel={props.rel}\n        onClick={(e: Event) => handleOnClick(e, props)}\n      >\n        {buttonContent}\n      </a>\n    );\n  }\n\n  // Otherwise, render as a button\n  return (\n    <button\n      {...commonAttributes}\n      onClick={(e: Event) => handleOnClick(e, props)}\n      type={props.type}\n    >\n      {buttonContent}\n    </button>\n  );\n};\n"],"names":["h"],"mappings":"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"}