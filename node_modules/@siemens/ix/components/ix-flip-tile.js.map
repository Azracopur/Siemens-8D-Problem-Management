{"file":"ix-flip-tile.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/flip-tile/flip-tile.scss?tag=ix-flip-tile&encapsulation=shadow","src/components/flip-tile/flip-tile.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n@use './common-variables' as vars;\n@use './flip-tile-vars' as flip-tile-vars;\n@use 'mixins/text-truncation';\n@use 'mixins/shadow-dom/component';\n@use 'legacy/fonts';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  perspective: 1000px;\n  border-radius: var(--theme-flip--border-radius)\n    var(--theme-flip--border-radius) 0 0;\n\n  @include component.ix-component;\n\n  .flip-tile-header {\n    display: flex;\n    align-items: center;\n    height: vars.$large-control-height;\n    padding: 0 vars.$small-space 0 vars.$default-space;\n\n    .header-slot-container {\n      flex-grow: 1;\n      min-width: 0;\n\n      @include text-truncation.ellipsis;\n    }\n  }\n\n  .content-container {\n    flex-grow: 1;\n    margin: vars.$default-space;\n  }\n\n  .flip-tile-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    transform-style: preserve-3d;\n    border-radius: var(--theme-flip--border-radius)\n      var(--theme-flip--border-radius) 0 0;\n\n    .footer {\n      height: 3rem;\n      align-items: center;\n      justify-content: center;\n      padding: 0 vars.$small-space;\n\n      :first-child {\n        height: 100%;\n\n        @include text-truncation.ellipsis;\n      }\n    }\n\n    ::slotted(*) {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      min-width: 0;\n\n      @include text-truncation.ellipsis;\n    }\n  }\n\n  &:hover .flip-tile-container .footer ix-icon {\n    color: var(--theme-color-std-text);\n  }\n}\n\n@each $variant in flip-tile-vars.$flip-tile-variants {\n  :host(.flip-tile-variant-#{$variant}) {\n    border: solid 1px var(--theme-flip-#{$variant}--border-color);\n\n    .flip-tile-container {\n      background-color: var(--theme-flip-#{$variant}--background);\n      color: var(--theme-flip-#{$variant}--color);\n\n      .footer {\n        display: none;\n        border-top: 1px\n          solid\n          var(--theme-flip-#{$variant}-footer--border-color);\n        background-color: var(--theme-flip-#{$variant}-footer--background);\n        color: var(--theme-flip-#{$variant}-footer--color);\n      }\n\n      .footer.show-footer {\n        display: flex;\n      }\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { iconEye } from '@siemens/ix-icons/icons';\nimport {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core';\nimport { animate } from 'animejs';\nimport Animation from '../utils/animation';\nimport { createMutationObserver } from '../utils/mutation-observer';\nimport { FlipTileVariant } from './flip-tile.types';\nimport { hasSlottedElements } from '../utils/shadow-dom';\n\n@Component({\n  tag: 'ix-flip-tile',\n  styleUrl: 'flip-tile.scss',\n  shadow: true,\n})\nexport class FlipTile {\n  @Element() hostElement!: HTMLIxFlipTileElement;\n\n  /**\n   * Variation of the Flip\n   *\n   * @since 4.0.0\n   */\n  @Prop() variant: FlipTileVariant = 'filled';\n\n  /**\n   * Height interpreted as REM\n   */\n  @Prop() height: number | 'auto' = 15.125;\n\n  /**\n   * Width interpreted as REM\n   */\n  @Prop() width: number | 'auto' = 16;\n\n  /**\n   * Index of the currently visible content\n   * @since 3.0.0\n   */\n  @Prop() index = 0;\n\n  /**\n   * ARIA label for the eye icon button\n   * Will be set as aria-label on the nested HTML button element\n   *\n   * @since 3.2.0\n   */\n  @Prop() ariaLabelEyeIconButton?: string;\n\n  /**\n   * Event emitted when the index changes\n   * @since 3.0.0\n   */\n  @Event() toggle!: EventEmitter<number>;\n\n  @State() isFlipAnimationActive: boolean = false;\n\n  @State() hasFooterSlot = false;\n\n  private contentItems: Array<HTMLIxFlipTileContentElement> = [];\n  private observer?: MutationObserver;\n\n  @Watch('index')\n  watchIndex(newIndex: number, oldIndex: number) {\n    if (newIndex === oldIndex) {\n      return;\n    }\n\n    this.doFlipAnimation(newIndex);\n  }\n\n  componentDidLoad() {\n    this.observer = createMutationObserver(() => this.updateContentItems());\n    this.observer.observe(this.hostElement, {\n      childList: true,\n    });\n  }\n\n  componentWillLoad() {\n    this.updateContentItems();\n    this.updateContentVisibility(this.index);\n  }\n\n  disconnectedCallback() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n\n  private handleFooterSlotChange(event: Event) {\n    const { target } = event;\n    const slot = target as HTMLSlotElement;\n    this.hasFooterSlot = hasSlottedElements(slot);\n  }\n\n  private updateContentItems() {\n    this.contentItems = Array.from(\n      this.hostElement.querySelectorAll('ix-flip-tile-content')\n    );\n  }\n\n  private updateContentVisibility(indexVisible: number) {\n    this.contentItems.forEach(\n      (content, index) => (content.contentVisible = index === indexVisible)\n    );\n  }\n\n  private toggleIndex() {\n    let newIndex;\n\n    const oldIndex = this.index;\n\n    if (this.index >= this.contentItems.length - 1) {\n      newIndex = 0;\n    } else {\n      newIndex = this.index + 1;\n    }\n\n    const { defaultPrevented } = this.toggle.emit(newIndex);\n\n    if (defaultPrevented) {\n      this.index = oldIndex;\n      return;\n    }\n\n    this.doFlipAnimation(newIndex);\n  }\n\n  private doFlipAnimation(index: number) {\n    if (this.isFlipAnimationActive) {\n      return;\n    }\n\n    this.isFlipAnimationActive = true;\n\n    animate(\n      this.hostElement.shadowRoot!.querySelector('.flip-tile-container')!,\n      {\n        keyframes: {\n          '0%': {\n            transform: 'rotateY(0)',\n          },\n          '50%': {\n            transform: 'rotateY(90deg)',\n          },\n          '51%': {\n            transform: 'rotateY(270deg)',\n          },\n          '100%': {\n            transform: 'rotateY(360deg)',\n          },\n        },\n        duration: Animation.defaultTime,\n        easing: 'ease-in-out',\n        onComplete: () => {\n          this.index = index;\n          this.updateContentVisibility(this.index);\n        },\n      }\n    );\n\n    setTimeout(() => {\n      this.isFlipAnimationActive = false;\n    }, 2 * Animation.defaultTime);\n  }\n\n  render() {\n    return (\n      <Host\n        class={{\n          [`flip-tile-variant-${this.variant}`]: true,\n        }}\n        style={{\n          height: `${this.height}${this.height === 'auto' ? '' : 'rem'}`,\n          'min-height': `${this.height}${this.height === 'auto' ? '' : 'rem'}`,\n          'max-height': `${this.height}${this.height === 'auto' ? '' : 'rem'}`,\n          width: `${this.width}${this.width === 'auto' ? '' : 'rem'}`,\n          'min-width': `${this.width}${this.width === 'auto' ? '' : 'rem'}`,\n          'max-width': `${this.width}${this.width === 'auto' ? '' : 'rem'}`,\n        }}\n      >\n        <div class=\"flip-tile-container\">\n          <div class=\"flip-tile-header\">\n            <div class=\"header-slot-container text-l-title\">\n              <slot name=\"header\"></slot>\n            </div>\n            <ix-icon-button\n              icon={iconEye}\n              variant=\"tertiary\"\n              onClick={() => this.toggleIndex()}\n              aria-label={this.ariaLabelEyeIconButton}\n            ></ix-icon-button>\n          </div>\n\n          <div class=\"content-container\">\n            <slot></slot>\n          </div>\n          <div\n            class={{\n              footer: true,\n              'show-footer': this.hasFooterSlot,\n            }}\n          >\n            <slot\n              name=\"footer\"\n              onSlotchange={(event) => this.handleFooterSlotChange(event)}\n            ></slot>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}