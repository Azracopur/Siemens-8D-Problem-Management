import{r as e,c as t,h as o,H as r,g as n}from"./p-CtoreFVF.js";import{D as i}from"./p-bDicGJUN.js";import{O as a}from"./p-D5eiEBbz.js";const l='.ix-form-control,.ix-form-control-plaintext{color:var(--theme-input--color);border-radius:var(--theme-input--border-radius);height:2rem;min-height:2rem;min-width:2rem;background-color:var(--theme-input--background);border:solid 1px var(--theme-input--border-color);box-shadow:var(--theme-input--box-shadow);padding-inline-start:0.5rem;padding-inline-end:0.5rem;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ix-form-control::-moz-placeholder,.ix-form-control-plaintext::-moz-placeholder{color:var(--theme-input-hint--color)}.ix-form-control::placeholder,.ix-form-control-plaintext::placeholder{color:var(--theme-input-hint--color)}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled),.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled){cursor:pointer}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled),.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled){cursor:pointer}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover{background-color:var(--theme-input--background--hover);border-color:var(--theme-input--border-color--hover);cursor:auto}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):hover,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled).hover{background-color:var(--theme-input--background--hover);border-color:var(--theme-input--border-color--hover);cursor:auto}.ix-form-control:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible,.ix-form-control-plaintext:not(:-moz-read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible{background-color:var(--theme-input--background--focus);border-color:var(--theme-input--border-color--focus);outline-offset:var(--theme-input--focus--outline-offset);box-shadow:var(--theme-input--box-shadow);outline:1px solid var(--theme-color-focus-bdr)}.ix-form-control:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible,.ix-form-control-plaintext:not(:read-only):not([readonly]):not([readOnly]):not(.readonly):not(.disabled):not(:disabled):focus-visible{background-color:var(--theme-input--background--focus);border-color:var(--theme-input--border-color--focus);outline-offset:var(--theme-input--focus--outline-offset);box-shadow:var(--theme-input--box-shadow);outline:1px solid var(--theme-color-focus-bdr)}.ix-form-control:focus-visible{color:var(--theme-input--color)}.ix-form-control[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}.ix-form-control[type=number]{text-align:right}.ix-form-control.readonly,.ix-form-control[readonly]{background:transparent !important;border-block-start:none !important;border-inline-start:none !important;border-inline-end:none !important;border-radius:0rem}.ix-form-control:-moz-read-only{box-shadow:none !important;outline:none !important;border-color:var(--theme-input--border-color);cursor:default !important}.ix-form-control:read-only,.ix-form-control[readonly],.ix-form-control[readOnly],.ix-form-control.readonly{box-shadow:none !important;outline:none !important;border-color:var(--theme-input--border-color);cursor:default !important}.ix-form-control:read-only::-moz-placeholder,.ix-form-control[readonly]::-moz-placeholder,.ix-form-control[readOnly]::-moz-placeholder,.ix-form-control.readonly::-moz-placeholder{color:transparent}.ix-form-control:-moz-read-only::placeholder{color:transparent}.ix-form-control:read-only::placeholder,.ix-form-control[readonly]::placeholder,.ix-form-control[readOnly]::placeholder,.ix-form-control.readonly::placeholder{color:transparent}.ix-form-control:disabled,.ix-form-control.disabled{background:transparent !important;border-block-start:none !important;border-inline-start:none !important;border-inline-end:none !important;border-radius:0rem;color:var(--theme-color-weak-text);border-color:var(--theme-input--border-color-bottom--disabled)}.ix-form-control:disabled::-moz-placeholder,.ix-form-control.disabled::-moz-placeholder{color:transparent}.ix-form-control:disabled::placeholder,.ix-form-control.disabled::placeholder{color:transparent}.ix-form-control-plaintext{outline:0}.form-group{position:relative}.input-wrapper{display:flex;position:relative;align-items:center;flex-wrap:nowrap}.input-wrapper>.glyph{display:block;position:absolute;margin-inline-start:0.312rem;color:var(--theme-color-std-text)}.input-wrapper>input{padding-inline-start:2.2rem}select.ix-form-control{padding:0 0.312rem}textarea.ix-form-control{padding:0.375rem 0.5rem}input.ix-form-control.disabled,input.ix-form-control:disabled{color:var(--theme-input--color--disabled)}input.ix-form-control:-moz-read-only{cursor:default}input.ix-form-control:read-only,input.ix-form-control.readonly{cursor:default}input{min-height:2rem;width:auto;padding:0.25rem 0.5rem;background-color:var(--theme-input--background);color:var(--theme-input--color);-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;text-overflow:ellipsis;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color);border-radius:var(--theme-input--border-radius);box-shadow:var(--theme-input--box-shadow);font-feature-settings:"clig" off, "liga" off;font-family:Siemens Sans, Siemens Sans, Arial, Helvetica, sans-serif;font-style:normal;font-size:var(--theme-ms-0);line-height:var(--theme-line-height-md);font-weight:var(--theme-font-weight-normal);letter-spacing:var(--theme-letter-spacing-xl);text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}input[type=number]{text-align:right}input[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}input:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}input:-webkit-autofill,input:autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}input::-moz-placeholder{color:var(--theme-input-hint--color)}input::placeholder{color:var(--theme-input-hint--color)}input.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),input:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}input.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),input:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}input.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),input:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}input.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),input:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}input:-moz-read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}input.read-only,input:read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}input.read-only::-moz-placeholder,input:read-only::-moz-placeholder{color:transparent}input:-moz-read-only::placeholder{color:transparent}input.read-only::placeholder,input:read-only::placeholder{color:transparent}input:disabled,input.disabled{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;color:var(--theme-input--color--disabled);border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--disabled)}input:disabled::-moz-placeholder,input.disabled::-moz-placeholder{color:transparent}input:disabled::placeholder,input.disabled::placeholder{color:transparent}textarea{min-height:2rem;width:auto;padding:0.25rem 0.5rem;background-color:var(--theme-input--background);color:var(--theme-input--color);-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;text-overflow:ellipsis;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color);border-radius:var(--theme-input--border-radius);box-shadow:var(--theme-input--box-shadow);font-feature-settings:"clig" off, "liga" off;font-family:Siemens Sans, Siemens Sans, Arial, Helvetica, sans-serif;font-style:normal;font-size:var(--theme-ms-0);line-height:var(--theme-line-height-md);font-weight:var(--theme-font-weight-normal);letter-spacing:var(--theme-letter-spacing-xl);text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale}textarea[type=number]{text-align:right}textarea[type=number]::-webkit-inner-spin-button{margin-right:-2px;margin-left:2px;display:none}textarea:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}textarea:-webkit-autofill,textarea:autofill{-webkit-box-shadow:0 0 0 1000px var(--theme-color-component-info) inset !important;-webkit-text-fill-color:var(--theme-input--color--autofill) !important;background-color:var(--theme-input--background--autofill) !important;border:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color--autofill) !important;color:var(--theme-input--color--autofill) !important}textarea::-moz-placeholder{color:var(--theme-input-hint--color)}textarea::placeholder{color:var(--theme-input-hint--color)}textarea.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),textarea:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}textarea.hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),textarea:hover:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){border-color:var(--theme-input--border-color--hover) !important;background-color:var(--theme-input--background--hover)}textarea.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only),textarea:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:-moz-read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}textarea.focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only),textarea:focus:not(.readonly,.read-only,.disabled,[readonly],[disabled],:read-only){outline:1px solid var(--theme-color-focus-bdr);outline-offset:var(--theme-input--focus--outline-offset);border-color:var(--theme-input--border-color--focus) !important}textarea:-moz-read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}textarea.read-only,textarea:read-only{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--readonly)}textarea.read-only::-moz-placeholder,textarea:read-only::-moz-placeholder{color:transparent}textarea:-moz-read-only::placeholder{color:transparent}textarea.read-only::placeholder,textarea:read-only::placeholder{color:transparent}textarea:disabled,textarea.disabled{box-shadow:none;background-color:transparent;outline:none;border:none;border-radius:0;color:var(--theme-input--color--disabled);border-bottom:var(--theme-input--border-thickness, 1px) solid var(--theme-input--border-color-bottom--disabled)}textarea:disabled::-moz-placeholder,textarea.disabled::-moz-placeholder{color:transparent}textarea:disabled::placeholder,textarea.disabled::placeholder{color:transparent}textarea{min-height:2rem;height:3.25rem;padding:calc(0.375rem - var(--theme-input--border-thickness)) calc(0.5rem - var(--theme-input--border-thickness))}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]),input.ix-info:not(.disabled):not(:disabled):not([disabled]){border-color:var(--theme-input--border-color--info)}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]):hover,input.ix-info:not(.disabled):not(:disabled):not([disabled]):hover{border-color:var(--theme-input--border-color--info--hover) !important}textarea.ix-info:not(.disabled):not(:disabled):not([disabled]):active,input.ix-info:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--info--active) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]),input.ix-warning:not(.disabled):not(:disabled):not([disabled]){background-color:var(--theme-input--background--warning);border-color:var(--theme-input--border-color--warning--active) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]):hover,input.ix-warning:not(.disabled):not(:disabled):not([disabled]):hover{background-color:var(--theme-input--background--warning--hover);border-color:var(--theme-input--border-color--warning--hover) !important}textarea.ix-warning:not(.disabled):not(:disabled):not([disabled]):active,input.ix-warning:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--warning--active) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]),input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]){background-color:var(--theme-input--background--invalid);border-color:var(--theme-input--border-color--invalid) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):hover,input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):hover{background-color:var(--theme-input--background--invalid--hover);border-color:var(--theme-input--border-color--invalid--hover) !important}textarea[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):active,input[class*=ix-invalid]:not(.disabled):not(:disabled):not([disabled]):active{border-color:var(--theme-input--border-color--invalid--active) !important}:host{display:block;position:relative;width:-moz-fit-content;width:fit-content}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .standaloneAppearance{box-shadow:none}:host .hidden{display:none}:host .header{display:flex;align-items:center;justify-content:center;height:2rem}:host .clock{display:flex;justify-content:center;align-items:start}:host .clock .flex{display:flex;height:100%;align-items:start}:host .clock .flex .columns{display:flex;flex-direction:column;align-items:center;justify-content:space-around}:host .clock .flex .columns .column-header{height:2.5rem;width:2.5rem;line-height:2.5rem;text-align:center;color:var(--theme-color-soft-text);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}:host .clock .flex .column-separator{display:flex;align-items:center;justify-content:center;min-height:100%;margin-top:3rem;width:0.5rem}:host .clock .element-list{list-style-type:none;overflow:auto;padding:0.0625rem;margin:-0.0625rem;max-height:15.75rem}:host .clock .element-list button{all:unset}:host .clock .element-list .element-container{box-sizing:border-box;width:2.5rem;height:2.5rem;margin-bottom:0.125rem;display:flex;justify-content:center;align-items:center;cursor:pointer;color:var(--theme-color-primary)}:host .clock .element-list .element-container:hover{background-color:var(--theme-datepicker-day--background--hover)}:host .clock .element-list .element-container:focus-visible{box-shadow:0 0 0 1px var(--theme-color-focus-bdr)}:host .clock .element-list .selected{background-color:var(--theme-datepicker-day--background--selected);color:var(--theme-datepicker-day--color--selected);font-weight:var(--theme-font-weight-bold)}:host .clock .element-list .selected:hover{background-color:var(--theme-datepicker-day--background--selected-hover)}:host .clock .element-list .selected:focus-visible{border:0.0625rem solid var(--theme-color-inv-contrast-text)}:host .clock .element-list .element-list-padding{width:2.5rem;height:13.125rem;min-height:13.125rem}:host .clock div.element-list{scrollbar-width:none;-ms-overflow-style:none}:host .clock div.element-list::-webkit-scrollbar{display:none}:host .footer{display:flex;justify-content:space-between;gap:0.5rem;flex-wrap:wrap}:host .footer .confirm-button{margin-left:auto}:host .footer--compact{flex-direction:column;align-items:center}:host .footer--compact .confirm-button{margin-left:initial}:host .default-space{margin-left:1rem}:host .text-align{text-align:center}';var d=undefined&&undefined.__decorate||function(e,t,o,r){var n=arguments.length,i=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,o):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)if(a=e[l])i=(n<3?a(i):n>3?a(t,o,i):a(t,o))||i;return n>3&&i&&Object.defineProperty(t,o,i),i};const s={hours:/\b[Hh]\b|HH|hh|H{3,4}|h{3,4}|t|tt|ttt|tttt|T|TT|TTT|TTTT/,minutes:/\bm\b|mm|t|tt|ttt|tttt|T|TT|TTT|TTTT/,seconds:/\bs\b|ss|tt|ttt|tttt|TT|TTT|TTTT/,milliseconds:/\bS\b|SSS|u|uu|uuu/};const c=1;const h=1;const m=1;const b=100;const u="Confirm";const p="Time";const f={hour:"",minute:"",second:"",millisecond:""};const v=class{constructor(o){e(this,o);this.timeSelect=t(this,"timeSelect",7);this.timeChange=t(this,"timeChange",7);this.format="TT";this.corners="rounded";this.embedded=false;this.dateTimePickerAppearance=false;this.hideHeader=false;this.hourInterval=c;this.minuteInterval=h;this.secondInterval=m;this.millisecondInterval=b;this.i18nConfirmTime=u;this.i18nHeader=p;this.i18nHourColumnHeader="hr";this.i18nMinuteColumnHeader="min";this.i18nSecondColumnHeader="sec";this.i18nMillisecondColumnHeader="ms";this.formattedTime=f;this.timePickerDescriptors=[];this.isUnitFocused=false;this.focusedUnit="hour";this.focusedValue=0;this.focusScrollAlignment="start"}watchFormatIntervalPropHandler(e){if(!e){return}this.initPicker();this.updateScrollPositions()}watchHourIntervalPropHandler(e){if(Number.isInteger(e)&&e>=0&&e<=(this.timeRef?12:23)){this.setTimePickerDescriptors();return}this.printIntervalError("hour",e);this.hourInterval=c}watchMinuteIntervalPropHandler(e){if(e>=0&&e<=59){this.setTimePickerDescriptors();return}this.printIntervalError("minute",e);this.minuteInterval=h}watchSecondIntervalPropHandler(e){if(e>=0&&e<=59){this.setTimePickerDescriptors();return}this.printIntervalError("second",e);this.secondInterval=m}watchMillisecondIntervalPropHandler(e){if(e>=0&&e<=999){this.setTimePickerDescriptors();return}this.printIntervalError("millisecond",e);this.millisecondInterval=b}printIntervalError(e,t){console.error(`Value ${t} is not valid for ${e}-interval. Falling back to default.`)}watchTimePropHandler(e){const t=i.fromFormat(e,this.format);if(!t.isValid){throw new Error("Format is not supported or not correct")}this._time=t}getDefaultTime(){return i.now()}async getCurrentTime(){var e;return(e=this._time)===null||e===void 0?void 0:e.toFormat(this.format)}onTimeChange(){const e=this.formattedTime;this.setTimeRef();this.formattedTime=this.getFormattedTime();this.updateScrollPositions(e)}componentWillLoad(){this.initPicker()}initPicker(){let e;if(this.time){e=i.fromFormat(this.time,this.format);if(!e.isValid){console.error(`Invalid time format. The configured format does not match the format of the passed time. ${e.invalidReason}: ${e.invalidExplanation}`);e=this.getDefaultTime()}}else{e=this.getDefaultTime()}this._time=e;this.setTimeRef();this.setTimePickerDescriptors();this.setInitialFocusedValueAndUnit();this.watchHourIntervalPropHandler(this.hourInterval);this.watchMinuteIntervalPropHandler(this.minuteInterval);this.watchSecondIntervalPropHandler(this.secondInterval);this.watchMillisecondIntervalPropHandler(this.millisecondInterval)}componentDidLoad(){this.updateScrollPositions();this.setupVisibilityObserver()}componentDidRender(){if(this.isUnitFocused){const e=this.getElementContainer(this.focusedUnit,this.focusedValue);const t=this.getElementList(this.focusedUnit);if(e){e.focus({preventScroll:true});if(!this.isElementVisible(e,t)){this.scrollElementIntoView(e,t,this.focusScrollAlignment)}}}}disconnectedCallback(){if(this.visibilityObserver){this.visibilityObserver.disconnect()}}handleKeyDown(e){if(!this.isUnitFocused){return}let t=this.focusedValue;let o=true;let r;switch(this.focusedUnit){case"hour":r=this.hourInterval;break;case"minute":r=this.minuteInterval;break;case"second":r=this.secondInterval;break;case"millisecond":r=this.millisecondInterval;break}switch(e.key){case"Tab":o=false;this.isUnitFocused=false;break;case"ArrowUp":t-=r;this.focusScrollAlignment="start";this.updateFocusedValue(t);this.updateDescriptorFocusedValue(this.focusedUnit,this.focusedValue);break;case"ArrowDown":t+=r;this.focusScrollAlignment="end";this.updateFocusedValue(t);this.updateDescriptorFocusedValue(this.focusedUnit,this.focusedValue);break;case"Enter":case" ":this.select(this.focusedUnit,this.focusedValue);break;default:return}if(o){e.preventDefault()}}onUnitCellBlur(e,t){var o;const r=t.relatedTarget;if(r){const t=(o=r.dataset.elementContainerId)===null||o===void 0?void 0:o.split("-")[0];if(t!==e){this.elementListScrollToTop(e,Number(this.formattedTime[e]),"smooth")}}this.isUnitFocused=false;const n=Number(this.formattedTime[e]);this.updateDescriptorFocusedValue(e,n)}onUnitCellFocus(e,t){this.isUnitFocused=true;this.focusedUnit=e;this.focusedValue=t;this.updateDescriptorFocusedValue(e,t)}getElementList(e){var t;return(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector(`[data-element-list-id="${e}"]`)}getElementContainer(e,t){var o;return(o=this.hostElement.shadowRoot)===null||o===void 0?void 0:o.querySelector(`[data-element-container-id="${e}-${t}"]`)}isElementVisible(e,t){const o=e.getBoundingClientRect();const r=t.getBoundingClientRect();return o.top>=r.top&&o.bottom<=r.bottom}scrollElementIntoView(e,t,o){const r=1;const n=t.getBoundingClientRect();const i=e.getBoundingClientRect();if(o==="end"){t.scrollTop+=i.bottom-n.bottom+r}else{t.scrollTop+=i.top-n.top-r}}updateFocusedValue(e){const t=this.getNumberArrayForUnit(this.focusedUnit);const o=t[t.length-1];const r=t[0];if(e>o){e=r;this.focusScrollAlignment="start"}else if(e<r){e=o;this.focusScrollAlignment="end"}this.focusedValue=e}setInitialFocusedValueAndUnit(){const e=this.timePickerDescriptors.find((e=>!e.hidden));if(!e){return}const t=Number(this.formattedTime[e.unit]);const o=e.numberArray.includes(t);this.focusedValue=o?t:e.numberArray[0];this.focusedUnit=e.unit}setupVisibilityObserver(){let e=this.hostElement;while(e&&e.tagName!=="IX-DROPDOWN"){e=e.parentElement}if(!e){return}this.visibilityObserver=new MutationObserver((e=>this.mutationObserverCallback(e)));this.visibilityObserver.observe(e,{attributes:true,attributeFilter:["class","style"]})}mutationObserverCallback(e){for(const t of e){if(t.type!=="attributes"){continue}const e=t.target;if(!e.classList.contains("show")){if(this.time){const e=i.fromFormat(this.time,this.format);if(e.isValid){this._time=i.fromFormat(this.time,this.format);this.setInitialFocusedValueAndUnit()}}continue}const o=this.areElementsRendered();if(!o){continue}this.updateScrollPositions()}}areElementsRendered(){var e;const t=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelectorAll(".element-list");if(!t||t.length===0){return false}return Array.from(t).some((e=>e.offsetHeight>0))}getFormattedTime(){if(!this._time){return f}return{hour:this.timeRef!==undefined?this._time.toFormat("h"):this._time.toFormat("H"),minute:this._time.toFormat("m"),second:this._time.toFormat("s"),millisecond:this._time.toFormat("S")}}timeUpdate(e,t){let o=i.now().endOf("day").get(e);if(e==="hour"){if(this.timeRef==="PM"){t=t===12?12:t+12}else if(this.timeRef==="AM"){t=t===12?0:t;o=12}}if(t>o){t=o}else if(t<0){t=0}if(!this._time){this._time=i.now().startOf("day")}this._time=this._time.set({[e]:t});return t}changeTimeReference(e){if(this.timeRef===e){return}if(!this._time){this._time=i.now().startOf("day")}this.timeRef=e;const t=this._time.hour;if(e==="PM"&&t<12){this._time=this._time.plus({hours:12})}else if(e==="AM"&&t>=12){this._time=this._time.minus({hours:12})}this.timeChange.emit(this._time.toFormat(this.format))}isFormat12Hour(e){let t="";let o=false;for(let r=0;r<e.length;r++){const n=e[r];if(n==="'"){o=!o}else if(!o){t+=n}}return/h|a|t/.test(t)}setTimeRef(){const e=this.isFormat12Hour(this.format);if(e&&this._time){this.timeRef=this._time.hour>=12?"PM":"AM"}else{this.timeRef=undefined}}getInitialFocusedValueForUnit(e,t){const o=Number(this.formattedTime[e]);return t.includes(o)?o:t[0]}setTimePickerDescriptors(){let e=[];let t=[];let o=[];let r=[];if(this.timeRef!==undefined){e=Array.from({length:Math.ceil(12/this.hourInterval)},((e,t)=>t*this.hourInterval+1)).filter((e=>e<=12))}else{e=Array.from({length:Math.ceil(24/this.hourInterval)},((e,t)=>t*this.hourInterval))}t=Array.from({length:Math.ceil(60/this.minuteInterval)},((e,t)=>t*this.minuteInterval));o=Array.from({length:Math.ceil(60/this.secondInterval)},((e,t)=>t*this.secondInterval));r=Array.from({length:Math.ceil(1e3/this.millisecondInterval)},((e,t)=>t*this.millisecondInterval));this.timePickerDescriptors=[{unit:"hour",header:this.i18nHourColumnHeader,hidden:!s.hours.test(this.format),numberArray:e,focusedValue:this.getInitialFocusedValueForUnit("hour",e)},{unit:"minute",header:this.i18nMinuteColumnHeader,hidden:!s.minutes.test(this.format),numberArray:t,focusedValue:this.getInitialFocusedValueForUnit("minute",t)},{unit:"second",header:this.i18nSecondColumnHeader,hidden:!s.seconds.test(this.format),numberArray:o,focusedValue:this.getInitialFocusedValueForUnit("second",o)},{unit:"millisecond",header:this.i18nMillisecondColumnHeader,hidden:!s.milliseconds.test(this.format),numberArray:r,focusedValue:this.getInitialFocusedValueForUnit("millisecond",r)}];this.timePickerDescriptors=this.timePickerDescriptors.filter((e=>!e.hidden))}getNumberArrayForUnit(e){const t=this.timePickerDescriptors.find((t=>t.unit===e));return t?t.numberArray:[]}isSelected(e,t){return this.formattedTime[e]===String(t)}select(e,t){if(this.isSelected(e,t)){return}this.formattedTime=Object.assign(Object.assign({},this.formattedTime),{[e]:String(t)});this.timeUpdate(e,t);this.elementListScrollToTop(e,t,"smooth");this.timeChange.emit(this._time.toFormat(this.format))}updateDescriptorFocusedValue(e,t){const o=this.timePickerDescriptors.findIndex((t=>t.unit===e));if(o!==-1){this.timePickerDescriptors=[...this.timePickerDescriptors.slice(0,o),Object.assign(Object.assign({},this.timePickerDescriptors[o]),{focusedValue:t}),...this.timePickerDescriptors.slice(o+1)]}}elementListScrollToTop(e,t,o){const r=this.getElementList(e);const n=this.getElementContainer(e,t);if(r&&n){const e=r.clientHeight;const t=n.clientHeight;let i=11;if(this.hideHeader){i-=57}const a=n.offsetTop-e/2+t-i;r.scrollTo({top:a,behavior:o})}}updateScrollPositions(e=undefined){for(const t in this.formattedTime){const o=t;if(!e||this.formattedTime[o]!==e[o]){this.elementListScrollToTop(o,Number(this.formattedTime[o]),"instant")}}}formatUnitValue(e,t){if(e==="millisecond"){return t.toString().padStart(3,"0")}return t<10?`0${t}`:t.toString()}getColumnSeparator(e){if(e+1<this.timePickerDescriptors.length){const t=this.timePickerDescriptors[e+1].unit;return t==="millisecond"?".":":"}return":"}getElementContainerTabIndex(e,t){const o=this.timePickerDescriptors.find((e=>e.unit===t));if(e===(o===null||o===void 0?void 0:o.focusedValue)){return"0"}return"-1"}render(){return o(r,{key:"da95d86956db27851713b28d3727ee9d8e33f785"},o("ix-date-time-card",{key:"5a8a88d641f859eaa2c1e1e2f7b699abd56f7f74",embedded:this.embedded,timePickerAppearance:true,corners:this.corners,hasFooter:!this.dateTimePickerAppearance,hideHeader:this.hideHeader},o("div",{key:"85639253213bee998504da73ea4de0421cf146c3",class:"header",slot:"header"},o("ix-typography",{key:"0a21cf47dd51eaf17c44271dbe4d63d909523055",format:"body"},this.i18nHeader)),o("div",{key:"9d716194b4a37662e298e8d59c54142e78b9a6a0",class:"clock"},this.timePickerDescriptors.map(((e,t)=>o("div",{class:"flex"},o("div",{class:{columns:true,hidden:e.hidden}},o("div",{class:"column-header",title:e.header},e.header),o("div",{"data-element-list-id":e.unit,class:"element-list",tabIndex:-1},e.numberArray.map((t=>o("button",{"data-element-container-id":`${e.unit}-${t}`,class:{selected:this.isSelected(e.unit,t),"element-container":true},onClick:()=>{this.select(e.unit,t)},onFocus:()=>this.onUnitCellFocus(e.unit,t),onBlur:t=>this.onUnitCellBlur(e.unit,t),tabindex:this.getElementContainerTabIndex(t,e.unit),"aria-label":`${e.header}: ${t}`},this.formatUnitValue(e.unit,t)))),o("div",{class:"element-list-padding"}))),t!==this.timePickerDescriptors.length-1&&o("div",{class:{"column-separator":true,hidden:e.hidden}},this.getColumnSeparator(t))))),this.timeRef&&o("div",{key:"b177d5ea743648618ab6b877f60a37b46d8a5fa5",class:"flex"},o("div",{key:"a714f52d250386088368bdfe5c28ad45a1fe2dd0",class:"column-separator"}),o("div",{key:"c7730b336e486ec34fd23e293b8e70e309d153fe",class:"columns"},o("div",{key:"56677d7c350e235777e5d06afd61b925934923d6",class:"column-header",title:"AM/PM"}),o("div",{key:"764fd7297bdafaa69d24c9a2655c9d4fa7a73966",class:"element-list",tabIndex:-1},o("button",{key:"6b7ddefac72c7d4a778e8de6c42fd593003f5e5f","data-am-pm-id":"AM",class:{selected:this.timeRef==="AM","element-container":true},onClick:()=>this.changeTimeReference("AM"),tabindex:"0","aria-label":"AM"},"AM"),o("button",{key:"75cccf55946da3b04faac2da0bd3c989b8f633a3","data-am-pm-id":"PM",class:{selected:this.timeRef==="PM","element-container":true},onClick:()=>this.changeTimeReference("PM"),tabindex:"0","aria-label":"PM"},"PM"))))),o("div",{key:"e033175f6d142fd73661703c89c975874bc9d6be",class:{footer:true,"footer--compact":this.timePickerDescriptors.length<=2},slot:"footer"},o("ix-button",{key:"795d890b983737fd09cc7471c428266945062262",class:"confirm-button",onClick:()=>{var e;this.timeSelect.emit((e=this._time)===null||e===void 0?void 0:e.toFormat(this.format))}},this.i18nConfirmTime))))}get hostElement(){return n(this)}static get watchers(){return{format:["watchFormatIntervalPropHandler"],hourInterval:["watchHourIntervalPropHandler"],minuteInterval:["watchMinuteIntervalPropHandler"],secondInterval:["watchSecondIntervalPropHandler"],millisecondInterval:["watchMillisecondIntervalPropHandler"],time:["watchTimePropHandler"],_time:["onTimeChange"]}}};d([a("keydown")],v.prototype,"handleKeyDown",null);v.style=l;export{v as ix_time_picker};
//# sourceMappingURL=p-d2c18c15.entry.js.map