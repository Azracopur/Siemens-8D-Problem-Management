import{b as e,a as t,i as o,c as a,O as n}from"./p-8HpPmDK_.js";import{T as s}from"./p-BdCnOrqW.js";class i{async attachView(e,t){var o;const a=(o=t===null||t===void 0?void 0:t.parentElement)!==null&&o!==void 0?o:document.body;a.appendChild(e);return e}async removeView(e){e.remove()}}const c=new i;let l=c;function d(e){l=e}const r=()=>l;const m=()=>c;function u(e,t){const o=t.ariaDescribedby;const a=t.ariaLabelledby;delete t["ariaDescribedby"];delete t["ariaLabelledby"];if(o){e.setAttribute("aria-describedby",o)}if(a){e.setAttribute("aria-labelledby",a)}}function f(e,t,o,a){let n=[];if(t!==undefined){n=[...n,{id:"cancel",text:t,type:"cancel",payload:a}]}return[...n,{id:"okay",text:e,type:"okay",payload:o}]}async function y(e){const t=new s;const o=document.createElement("ix-modal");const a=document.createElement("ix-modal-header");const n=document.createElement("ix-modal-content");const i=document.createElement("ix-modal-footer");u(o,e);Object.assign(a,e);Object.assign(n,e);Object.assign(i,e);a.innerText=e.messageTitle;n.innerText=e.message;e.actions.forEach((({id:e,text:t,type:a,payload:n})=>{const s=document.createElement("ix-button");s.innerText=t;i.appendChild(s);if(a==="okay"){s.variant="primary";s.addEventListener("click",(()=>o.closeModal({actionId:e,payload:n})));return}else if(a==="cancel"){s.variant="secondary";s.addEventListener("click",(()=>o.dismissModal({actionId:e,payload:n})));return}}));o.appendChild(a);o.appendChild(n);o.appendChild(i);const c=await m().attachView(o);c.addEventListener("dialogClose",(e=>{t.emit(e.detail);c.remove()}));c.addEventListener("dialogDismiss",(e=>{t.emit(e.detail);c.remove()}));u(c,e);Object.assign(c,e);c.showModal();return t}y.info=(t,o,a,n,s,i)=>y({message:o,messageTitle:t,icon:e,actions:f(a,n,s,i)});y.warning=(e,o,a,n,s,i)=>y({message:o,messageTitle:e,icon:t,iconColor:"color-warning-text",actions:f(a,n,s,i)});y.error=(e,t,a,n,s,i)=>y({message:t,messageTitle:e,icon:o,iconColor:"color-alarm",actions:f(a,n,s,i)});y.success=(e,t,o,n,s,i)=>y({message:t,messageTitle:e,icon:a,iconColor:"color-success",actions:f(o,n,s,i)});y.question=(e,t,o,a,s,i)=>y({message:t,messageTitle:e,icon:n,actions:f(o,a,s,i)});function g(e,t){const o=t.ariaDescribedby;const a=t.ariaLabelledby;delete t["ariaDescribedby"];delete t["ariaLabelledby"];if(o){e.setAttribute("aria-describedby",o)}if(a){e.setAttribute("aria-labelledby",a)}}function b(e){return e.closest("ix-modal")}function p(e,t){const o=b(e);if(o){o.closeModal(t);return}}function w(e,t){const o=b(e);if(o){o.dismissModal(t);return}}async function x(e){const t=r();let o;const a=new s;const n=new s;if(typeof e.content==="string"){const t=document.createElement("ix-modal");t.innerText=e.content;o=await m().attachView(t)}if(e.content instanceof HTMLElement&&e.content.tagName!=="IX-MODAL"){const t=document.createElement("ix-modal");t.appendChild(e.content);o=await m().attachView(t)}if(!o){o=await t.attachView(e.content)}g(o,e);Object.assign(o,e);await o.showModal();o.addEventListener("dialogClose",(async({detail:e})=>{a.emit(e);await t.removeView(o)}));o.addEventListener("dialogDismiss",(async({detail:e})=>{n.emit(e);await t.removeView(o)}));requestAnimationFrame((()=>{const e=o.querySelector("[autofocus],[auto-focus]");if(e){e.focus()}}));return{htmlElement:o,onClose:a,onDismiss:n}}export{r as a,y as b,p as c,w as d,m as g,d as r,x as s};
//# sourceMappingURL=p-BC0Exw_O.js.map