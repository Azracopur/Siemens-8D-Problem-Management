{"version":3,"file":"time-picker.js","sourceRoot":"","sources":["../../../src/components/time-picker/time-picker.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Method,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core';\nimport { DateTime } from 'luxon';\nimport { OnListener } from '../utils/listener';\nimport type { TimePickerCorners } from './time-picker.types';\n\ntype TimePickerDescriptorUnit = 'hour' | 'minute' | 'second' | 'millisecond';\n\ninterface TimePickerDescriptor {\n  unit: TimePickerDescriptorUnit;\n  header: string;\n  hidden: boolean;\n  numberArray: number[];\n  focusedValue: number;\n}\n\ninterface TimeOutputFormat {\n  hour: string;\n  minute: string;\n  second: string;\n  millisecond: string;\n}\n\nconst LUXON_FORMAT_PATTERNS = {\n  // h, hh, H, HH and various time formats that include hours\n  hours: /\\b[Hh]\\b|HH|hh|H{3,4}|h{3,4}|t|tt|ttt|tttt|T|TT|TTT|TTTT/,\n  // m, mm and time formats that include minutes\n  minutes: /\\bm\\b|mm|t|tt|ttt|tttt|T|TT|TTT|TTTT/,\n  // s, ss and time formats that include seconds\n  seconds: /\\bs\\b|ss|tt|ttt|tttt|TT|TTT|TTTT/,\n  // S, SSS (milliseconds), u/uu/uuu (fractional seconds), x/X (timestamps)\n  milliseconds: /\\bS\\b|SSS|u|uu|uuu/,\n};\n\nconst HOUR_INTERVAL_DEFAULT = 1;\nconst MINUTE_INTERVAL_DEFAULT = 1;\nconst SECOND_INTERVAL_DEFAULT = 1;\nconst MILLISECOND_INTERVAL_DEFAULT = 100;\n\nconst CONFIRM_BUTTON_DEFAULT = 'Confirm';\nconst HEADER_DEFAULT = 'Time';\n\nconst FORMATTED_TIME_EMPTY: TimeOutputFormat = {\n  hour: '',\n  minute: '',\n  second: '',\n  millisecond: '',\n};\n\n@Component({\n  tag: 'ix-time-picker',\n  styleUrl: 'time-picker.scss',\n  shadow: true,\n})\nexport class TimePicker {\n  @Element() hostElement!: HTMLIxTimePickerElement;\n\n  /**\n   * Format of time string\n   * See {@link https://moment.github.io/luxon/#/formatting?id=table-of-tokens} for all available tokens.\n   * Note: Formats that combine date and time (like f or F) are not supported. Timestamp tokens x and X are not supported either.\n   */\n  @Prop() format: string = 'TT';\n  @Watch('format')\n  watchFormatIntervalPropHandler(newValue: string) {\n    if (!newValue) {\n      return;\n    }\n\n    this.initPicker();\n    this.updateScrollPositions();\n  }\n\n  /**\n   * Corner style\n   */\n  @Prop() corners: TimePickerCorners = 'rounded';\n\n  /**\n   * Embedded style (for use in other components)\n   */\n  @Prop() embedded = false;\n\n  /**\n   * @internal Temporary prop needed until datetime-picker is reworked for new design\n   */\n  @Prop() dateTimePickerAppearance: boolean = false;\n\n  /**\n   * Hides the header of the picker.\n   *\n   * @since 3.2.0\n   */\n  @Prop() hideHeader: boolean = false;\n\n  /**\n   * Interval for hour selection\n   *\n   * @since 3.2.0\n   */\n  @Prop({ mutable: true }) hourInterval: number = HOUR_INTERVAL_DEFAULT;\n  @Watch('hourInterval')\n  watchHourIntervalPropHandler(newValue: number) {\n    if (\n      Number.isInteger(newValue) &&\n      newValue >= 0 &&\n      newValue <= (this.timeRef ? 12 : 23)\n    ) {\n      this.setTimePickerDescriptors();\n      return;\n    }\n\n    this.printIntervalError('hour', newValue);\n    this.hourInterval = HOUR_INTERVAL_DEFAULT;\n  }\n\n  /**\n   * Interval for minute selection\n   *\n   * @since 3.2.0\n   */\n  @Prop({ mutable: true }) minuteInterval: number = MINUTE_INTERVAL_DEFAULT;\n  @Watch('minuteInterval')\n  watchMinuteIntervalPropHandler(newValue: number) {\n    if (newValue >= 0 && newValue <= 59) {\n      this.setTimePickerDescriptors();\n      return;\n    }\n\n    this.printIntervalError('minute', newValue);\n    this.minuteInterval = MINUTE_INTERVAL_DEFAULT;\n  }\n\n  /**\n   * Interval for second selection\n   *\n   * @since 3.2.0\n   */\n  @Prop({ mutable: true }) secondInterval: number = SECOND_INTERVAL_DEFAULT;\n  @Watch('secondInterval')\n  watchSecondIntervalPropHandler(newValue: number) {\n    if (newValue >= 0 && newValue <= 59) {\n      this.setTimePickerDescriptors();\n      return;\n    }\n\n    this.printIntervalError('second', newValue);\n    this.secondInterval = SECOND_INTERVAL_DEFAULT;\n  }\n\n  /**\n   * Interval for millisecond selection\n   *\n   * @since 3.2.0\n   */\n  @Prop({ mutable: true }) millisecondInterval: number =\n    MILLISECOND_INTERVAL_DEFAULT;\n  @Watch('millisecondInterval')\n  watchMillisecondIntervalPropHandler(newValue: number) {\n    if (newValue >= 0 && newValue <= 999) {\n      this.setTimePickerDescriptors();\n      return;\n    }\n\n    this.printIntervalError('millisecond', newValue);\n    this.millisecondInterval = MILLISECOND_INTERVAL_DEFAULT;\n  }\n\n  private printIntervalError(intervalName: string, value: number) {\n    console.error(\n      `Value ${value} is not valid for ${intervalName}-interval. Falling back to default.`\n    );\n  }\n\n  /**\n   * Select time with format string\n   * Format has to match the `format` property.\n   */\n  @Prop() time?: string;\n\n  @Watch('time')\n  watchTimePropHandler(newValue: string) {\n    const timeFormat = DateTime.fromFormat(newValue, this.format);\n    if (!timeFormat.isValid) {\n      throw new Error('Format is not supported or not correct');\n    }\n\n    this._time = timeFormat;\n  }\n\n  /**\n   * Get default time value\n   * @returns DateTime.now() for empty state (no selection)\n   */\n  private getDefaultTime(): DateTime | undefined {\n    return DateTime.now();\n  }\n\n  /**\n   * Text of the time confirm button\n   */\n  @Prop({ attribute: 'i18n-confirm-time' }) i18nConfirmTime =\n    CONFIRM_BUTTON_DEFAULT;\n\n  /**\n   * Text for top header\n   */\n  @Prop({ attribute: 'i18n-header' }) i18nHeader: string = HEADER_DEFAULT;\n\n  /**\n   * Text for hour column header\n   */\n  @Prop({ attribute: 'i18n-column-header' }) i18nHourColumnHeader: string =\n    'hr';\n\n  /**\n   * Text for minute column header\n   */\n  // eslint-disable-next-line @stencil-community/decorators-style\n  @Prop({ attribute: 'i18n-minute-column-header' })\n  i18nMinuteColumnHeader: string = 'min';\n\n  /**\n   * Text for second column header\n   */\n  // eslint-disable-next-line @stencil-community/decorators-style\n  @Prop({ attribute: 'i18n-second-column-header' })\n  i18nSecondColumnHeader: string = 'sec';\n\n  /**\n   * Text for millisecond column header\n   */\n  // eslint-disable-next-line @stencil-community/decorators-style\n  @Prop({ attribute: 'i18n-millisecond-column-header' })\n  i18nMillisecondColumnHeader: string = 'ms';\n\n  /**\n   * Time event\n   */\n  @Event() timeSelect!: EventEmitter<string>;\n\n  /**\n   * Time change event\n   */\n  @Event() timeChange!: EventEmitter<string>;\n\n  /**\n   * Get the current time based on the wanted format\n   */\n  @Method()\n  async getCurrentTime(): Promise<string | undefined> {\n    return this._time?.toFormat(this.format);\n  }\n\n  @State() private _time?: DateTime;\n  @Watch('_time')\n  onTimeChange() {\n    const formattedTimeOld = this.formattedTime;\n    this.setTimeRef();\n    this.formattedTime = this.getFormattedTime();\n\n    this.updateScrollPositions(formattedTimeOld);\n  }\n\n  @State() private timeRef?: 'AM' | 'PM' | undefined;\n  @State() private formattedTime: TimeOutputFormat = FORMATTED_TIME_EMPTY;\n  @State() private timePickerDescriptors: TimePickerDescriptor[] = [];\n  @State() private isUnitFocused: boolean = false;\n  @State() private focusedUnit: TimePickerDescriptorUnit = 'hour';\n  @State() private focusedValue: number = 0;\n\n  private visibilityObserver?: MutationObserver;\n  private focusScrollAlignment: 'start' | 'end' = 'start';\n\n  componentWillLoad() {\n    this.initPicker();\n  }\n\n  private initPicker() {\n    let parsedTime: DateTime | undefined;\n\n    if (this.time) {\n      parsedTime = DateTime.fromFormat(this.time, this.format);\n\n      if (!parsedTime.isValid) {\n        console.error(\n          `Invalid time format. The configured format does not match the format of the passed time. ${parsedTime.invalidReason}: ${parsedTime.invalidExplanation}`\n        );\n        parsedTime = this.getDefaultTime();\n      }\n    } else {\n      parsedTime = this.getDefaultTime();\n    }\n\n    this._time = parsedTime;\n\n    this.setTimeRef();\n    this.setTimePickerDescriptors();\n    this.setInitialFocusedValueAndUnit();\n\n    this.watchHourIntervalPropHandler(this.hourInterval);\n    this.watchMinuteIntervalPropHandler(this.minuteInterval);\n    this.watchSecondIntervalPropHandler(this.secondInterval);\n    this.watchMillisecondIntervalPropHandler(this.millisecondInterval);\n  }\n\n  componentDidLoad() {\n    this.updateScrollPositions();\n    this.setupVisibilityObserver();\n  }\n\n  componentDidRender() {\n    if (this.isUnitFocused) {\n      const elementContainer = this.getElementContainer(\n        this.focusedUnit,\n        this.focusedValue\n      );\n      const elementList = this.getElementList(this.focusedUnit);\n\n      if (elementContainer) {\n        elementContainer.focus({ preventScroll: true });\n\n        if (!this.isElementVisible(elementContainer, elementList)) {\n          this.scrollElementIntoView(\n            elementContainer,\n            elementList,\n            this.focusScrollAlignment\n          );\n        }\n      }\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.visibilityObserver) {\n      this.visibilityObserver.disconnect();\n    }\n  }\n\n  @OnListener<TimePicker>('keydown')\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.isUnitFocused) {\n      return;\n    }\n\n    let newValue = this.focusedValue;\n    let shouldPreventDefault = true;\n    let newValueInterval;\n\n    switch (this.focusedUnit) {\n      case 'hour':\n        newValueInterval = this.hourInterval;\n        break;\n      case 'minute':\n        newValueInterval = this.minuteInterval;\n        break;\n      case 'second':\n        newValueInterval = this.secondInterval;\n        break;\n      case 'millisecond':\n        newValueInterval = this.millisecondInterval;\n        break;\n    }\n\n    switch (event.key) {\n      case 'Tab':\n        shouldPreventDefault = false;\n        this.isUnitFocused = false;\n        break;\n\n      case 'ArrowUp':\n        newValue -= newValueInterval;\n        this.focusScrollAlignment = 'start';\n        this.updateFocusedValue(newValue);\n        this.updateDescriptorFocusedValue(this.focusedUnit, this.focusedValue);\n        break;\n\n      case 'ArrowDown':\n        newValue += newValueInterval;\n        this.focusScrollAlignment = 'end';\n        this.updateFocusedValue(newValue);\n        this.updateDescriptorFocusedValue(this.focusedUnit, this.focusedValue);\n        break;\n\n      case 'Enter':\n      case ' ':\n        this.select(this.focusedUnit, this.focusedValue);\n        break;\n\n      default:\n        return;\n    }\n\n    if (shouldPreventDefault) {\n      event.preventDefault();\n    }\n  }\n\n  onUnitCellBlur(unit: TimePickerDescriptorUnit, event: FocusEvent) {\n    const relatedTarget = event.relatedTarget as HTMLElement;\n\n    // Check if column lost focus to scroll back to selected value\n    if (relatedTarget) {\n      const relatedUnit =\n        relatedTarget.dataset.elementContainerId?.split('-')[0];\n\n      if (relatedUnit !== unit) {\n        this.elementListScrollToTop(\n          unit,\n          Number(this.formattedTime[unit]),\n          'smooth'\n        );\n      }\n    }\n\n    this.isUnitFocused = false;\n    const focusedValue = Number(this.formattedTime[unit]);\n\n    this.updateDescriptorFocusedValue(unit, focusedValue);\n  }\n\n  onUnitCellFocus(unit: TimePickerDescriptorUnit, value: number) {\n    this.isUnitFocused = true;\n    this.focusedUnit = unit;\n    this.focusedValue = value;\n\n    this.updateDescriptorFocusedValue(unit, value);\n  }\n\n  private getElementList(unit: TimePickerDescriptorUnit): HTMLDivElement {\n    return this.hostElement.shadowRoot?.querySelector(\n      `[data-element-list-id=\"${unit}\"]`\n    ) as HTMLDivElement;\n  }\n\n  private getElementContainer(\n    unit: TimePickerDescriptorUnit,\n    number: number\n  ): HTMLDivElement {\n    return this.hostElement.shadowRoot?.querySelector(\n      `[data-element-container-id=\"${unit}-${number}\"]`\n    ) as HTMLDivElement;\n  }\n\n  private isElementVisible(\n    element: HTMLElement,\n    container: HTMLElement\n  ): boolean {\n    const elementRect = element.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n\n    return (\n      elementRect.top >= containerRect.top &&\n      elementRect.bottom <= containerRect.bottom\n    );\n  }\n\n  private scrollElementIntoView(\n    element: HTMLElement,\n    container: HTMLElement,\n    alignment: 'start' | 'end'\n  ) {\n    const SCROLL_BUFFER = 1;\n    const containerRect = container.getBoundingClientRect();\n    const elementRect = element.getBoundingClientRect();\n\n    if (alignment === 'end') {\n      container.scrollTop +=\n        elementRect.bottom - containerRect.bottom + SCROLL_BUFFER;\n    } else {\n      container.scrollTop +=\n        elementRect.top - containerRect.top - SCROLL_BUFFER;\n    }\n  }\n\n  private updateFocusedValue(value: number) {\n    const numberArray = this.getNumberArrayForUnit(this.focusedUnit);\n    const maxValue = numberArray[numberArray.length - 1];\n    const minValue = numberArray[0];\n\n    if (value > maxValue) {\n      value = minValue;\n      this.focusScrollAlignment = 'start';\n    } else if (value < minValue) {\n      value = maxValue;\n      this.focusScrollAlignment = 'end';\n    }\n\n    this.focusedValue = value;\n  }\n\n  private setInitialFocusedValueAndUnit() {\n    const firstVisibleDescriptor = this.timePickerDescriptors.find(\n      (descriptor) => !descriptor.hidden\n    );\n    if (!firstVisibleDescriptor) {\n      return;\n    }\n\n    const selectedValue = Number(\n      this.formattedTime[firstVisibleDescriptor.unit]\n    );\n    const isValidSelection =\n      firstVisibleDescriptor.numberArray.includes(selectedValue);\n\n    this.focusedValue = isValidSelection\n      ? selectedValue\n      : firstVisibleDescriptor.numberArray[0];\n\n    this.focusedUnit = firstVisibleDescriptor.unit;\n  }\n\n  private setupVisibilityObserver() {\n    let dropdownElement: Element | null = this.hostElement;\n    while (dropdownElement && dropdownElement.tagName !== 'IX-DROPDOWN') {\n      dropdownElement = dropdownElement.parentElement;\n    }\n\n    if (!dropdownElement) {\n      return;\n    }\n\n    this.visibilityObserver = new MutationObserver((mutations) =>\n      this.mutationObserverCallback(mutations)\n    );\n\n    this.visibilityObserver.observe(dropdownElement, {\n      attributes: true,\n      attributeFilter: ['class', 'style'],\n    });\n  }\n\n  private mutationObserverCallback(mutations: MutationRecord[]) {\n    for (const mutation of mutations) {\n      if (mutation.type !== 'attributes') {\n        continue;\n      }\n\n      const dropdown = mutation.target as HTMLElement;\n\n      if (!dropdown.classList.contains('show')) {\n        // keep picker in sync with input\n        if (this.time) {\n          const timeFormat = DateTime.fromFormat(this.time, this.format);\n          if (timeFormat.isValid) {\n            this._time = DateTime.fromFormat(this.time, this.format);\n            this.setInitialFocusedValueAndUnit();\n          }\n        }\n\n        continue;\n      }\n\n      const elementsReady = this.areElementsRendered();\n      if (!elementsReady) {\n        continue;\n      }\n\n      this.updateScrollPositions();\n    }\n  }\n\n  private areElementsRendered(): boolean {\n    const elementLists =\n      this.hostElement.shadowRoot?.querySelectorAll('.element-list');\n\n    if (!elementLists || elementLists.length === 0) {\n      return false;\n    }\n\n    return Array.from(elementLists).some(\n      (list) => (list as HTMLElement).offsetHeight > 0\n    );\n  }\n\n  private getFormattedTime(): TimeOutputFormat {\n    if (!this._time) {\n      return FORMATTED_TIME_EMPTY;\n    }\n\n    return {\n      hour:\n        this.timeRef !== undefined\n          ? this._time.toFormat('h')\n          : this._time.toFormat('H'),\n      minute: this._time.toFormat('m'),\n      second: this._time.toFormat('s'),\n      millisecond: this._time.toFormat('S'),\n    };\n  }\n\n  private timeUpdate(unit: TimePickerDescriptorUnit, value: number): number {\n    let maxValue = DateTime.now().endOf('day').get(unit);\n\n    if (unit === 'hour') {\n      if (this.timeRef === 'PM') {\n        // 12 PM should remain 12, other PM hours add 12\n        value = value === 12 ? 12 : value + 12;\n      } else if (this.timeRef === 'AM') {\n        // 12 AM should be 0, other AM hours remain as is\n        value = value === 12 ? 0 : value;\n        maxValue = 12;\n      }\n    }\n\n    if (value > maxValue) {\n      value = maxValue;\n    } else if (value < 0) {\n      value = 0;\n    }\n\n    if (!this._time) {\n      this._time = DateTime.now().startOf('day');\n    }\n\n    this._time = this._time.set({\n      [unit]: value,\n    });\n\n    return value;\n  }\n\n  private changeTimeReference(newTimeRef: 'AM' | 'PM') {\n    if (this.timeRef === newTimeRef) {\n      return;\n    }\n\n    if (!this._time) {\n      this._time = DateTime.now().startOf('day');\n    }\n\n    this.timeRef = newTimeRef;\n    const currentHour = this._time.hour;\n\n    if (newTimeRef === 'PM' && currentHour < 12) {\n      this._time = this._time.plus({ hours: 12 });\n    } else if (newTimeRef === 'AM' && currentHour >= 12) {\n      this._time = this._time.minus({ hours: 12 });\n    }\n\n    this.timeChange.emit(this._time.toFormat(this.format));\n  }\n\n  private isFormat12Hour(format: string): boolean {\n    // Remove any text that's inside quotes (literal text in Luxon format strings)\n    let cleanFormat = '';\n    let inQuote = false;\n\n    for (let i = 0; i < format.length; i++) {\n      const char = format[i];\n      if (char === \"'\") {\n        inQuote = !inQuote;\n      } else if (!inQuote) {\n        cleanFormat += char;\n      }\n    }\n\n    // Check for specific 12-hour format tokens\n    // Case-sensitive matching to distinguish between 'h' and 'H'\n    return /h|a|t/.test(cleanFormat);\n  }\n\n  private setTimeRef() {\n    const uses12HourFormat = this.isFormat12Hour(this.format);\n\n    if (uses12HourFormat && this._time) {\n      this.timeRef = this._time!.hour >= 12 ? 'PM' : 'AM';\n    } else {\n      this.timeRef = undefined;\n    }\n  }\n\n  private getInitialFocusedValueForUnit(\n    unit: TimePickerDescriptorUnit,\n    numberArray: number[]\n  ): number {\n    const selectedValue = Number(this.formattedTime[unit]);\n    return numberArray.includes(selectedValue) ? selectedValue : numberArray[0];\n  }\n\n  private setTimePickerDescriptors() {\n    let hourNumbers = [];\n    let minuteNumbers = [];\n    let secondNumbers = [];\n    let millisecondsNumbers = [];\n\n    if (this.timeRef !== undefined) {\n      hourNumbers = Array.from(\n        { length: Math.ceil(12 / this.hourInterval) },\n        (_, i) => i * this.hourInterval + 1\n      ).filter((hour) => hour <= 12);\n    } else {\n      hourNumbers = Array.from(\n        { length: Math.ceil(24 / this.hourInterval) },\n        (_, i) => i * this.hourInterval\n      );\n    }\n\n    minuteNumbers = Array.from(\n      { length: Math.ceil(60 / this.minuteInterval) },\n      (_, i) => i * this.minuteInterval\n    );\n    secondNumbers = Array.from(\n      { length: Math.ceil(60 / this.secondInterval) },\n      (_, i) => i * this.secondInterval\n    );\n    millisecondsNumbers = Array.from(\n      { length: Math.ceil(1000 / this.millisecondInterval) },\n      (_, i) => i * this.millisecondInterval\n    );\n\n    this.timePickerDescriptors = [\n      {\n        unit: 'hour',\n        header: this.i18nHourColumnHeader,\n        hidden: !LUXON_FORMAT_PATTERNS.hours.test(this.format),\n        numberArray: hourNumbers,\n        focusedValue: this.getInitialFocusedValueForUnit('hour', hourNumbers),\n      },\n      {\n        unit: 'minute',\n        header: this.i18nMinuteColumnHeader,\n        hidden: !LUXON_FORMAT_PATTERNS.minutes.test(this.format),\n        numberArray: minuteNumbers,\n        focusedValue: this.getInitialFocusedValueForUnit(\n          'minute',\n          minuteNumbers\n        ),\n      },\n      {\n        unit: 'second',\n        header: this.i18nSecondColumnHeader,\n        hidden: !LUXON_FORMAT_PATTERNS.seconds.test(this.format),\n        numberArray: secondNumbers,\n        focusedValue: this.getInitialFocusedValueForUnit(\n          'second',\n          secondNumbers\n        ),\n      },\n      {\n        unit: 'millisecond',\n        header: this.i18nMillisecondColumnHeader,\n        hidden: !LUXON_FORMAT_PATTERNS.milliseconds.test(this.format),\n        numberArray: millisecondsNumbers,\n        focusedValue: this.getInitialFocusedValueForUnit(\n          'millisecond',\n          millisecondsNumbers\n        ),\n      },\n    ];\n\n    this.timePickerDescriptors = this.timePickerDescriptors.filter(\n      (item) => !item.hidden\n    );\n  }\n\n  private getNumberArrayForUnit(unit: TimePickerDescriptorUnit): number[] {\n    const descriptor = this.timePickerDescriptors.find(\n      (descriptor) => descriptor.unit === unit\n    );\n    return descriptor ? descriptor.numberArray : [];\n  }\n\n  private isSelected(unit: TimePickerDescriptorUnit, number: number): boolean {\n    return this.formattedTime![unit] === String(number);\n  }\n\n  private select(unit: TimePickerDescriptorUnit, number: number) {\n    if (this.isSelected(unit, number)) {\n      return;\n    }\n\n    this.formattedTime = {\n      ...this.formattedTime!,\n      [unit]: String(number),\n    };\n\n    this.timeUpdate(unit, number);\n    this.elementListScrollToTop(unit, number, 'smooth');\n    this.timeChange.emit(this._time!.toFormat(this.format));\n  }\n\n  private updateDescriptorFocusedValue(\n    unit: TimePickerDescriptorUnit,\n    value: number\n  ) {\n    const descriptorIndex = this.timePickerDescriptors.findIndex(\n      (d) => d.unit === unit\n    );\n    if (descriptorIndex !== -1) {\n      this.timePickerDescriptors = [\n        ...this.timePickerDescriptors.slice(0, descriptorIndex),\n        {\n          ...this.timePickerDescriptors[descriptorIndex],\n          focusedValue: value,\n        },\n        ...this.timePickerDescriptors.slice(descriptorIndex + 1),\n      ];\n    }\n  }\n\n  private elementListScrollToTop(\n    unit: TimePickerDescriptorUnit,\n    number: number,\n    scrollBehaviour: 'smooth' | 'instant'\n  ) {\n    const elementList = this.getElementList(unit);\n    const elementContainer = this.getElementContainer(unit, number);\n\n    if (elementList && elementContainer) {\n      const elementListHeight = elementList.clientHeight;\n      const elementContainerHeight = elementContainer.clientHeight;\n\n      // Offset which is used to adjust the scroll position to account for margins, elements being hidden, etc.\n      let scrollPositionOffset = 11;\n      if (this.hideHeader) {\n        // 56 + 1 --> height of the header container and separator\n        scrollPositionOffset -= 57;\n      }\n\n      const scrollPosition =\n        elementContainer.offsetTop -\n        elementListHeight / 2 +\n        elementContainerHeight -\n        scrollPositionOffset;\n\n      elementList.scrollTo({\n        top: scrollPosition,\n        behavior: scrollBehaviour,\n      });\n    }\n  }\n\n  /**\n   * Updates all scroll positions of the time picker elements\n   * Updates only the elements that have changed if `formattedTimeOld` is provided\n   */\n  private updateScrollPositions(\n    formattedTimeOld: TimeOutputFormat | undefined = undefined\n  ) {\n    for (const key in this.formattedTime) {\n      const unitKey = key as keyof TimeOutputFormat;\n\n      if (\n        !formattedTimeOld ||\n        this.formattedTime[unitKey] !== formattedTimeOld[unitKey]\n      ) {\n        this.elementListScrollToTop(\n          unitKey as TimePickerDescriptorUnit,\n          Number(this.formattedTime[unitKey]),\n          'instant'\n        );\n      }\n    }\n  }\n\n  private formatUnitValue(\n    unit: TimePickerDescriptorUnit,\n    value: number\n  ): string {\n    if (unit === 'millisecond') {\n      return value.toString().padStart(3, '0');\n    }\n\n    return value < 10 ? `0${value}` : value.toString();\n  }\n\n  private getColumnSeparator(currentIndex: number): string {\n    if (currentIndex + 1 < this.timePickerDescriptors.length) {\n      const nextUnit = this.timePickerDescriptors[currentIndex + 1].unit;\n      return nextUnit === 'millisecond' ? '.' : ':';\n    }\n\n    return ':';\n  }\n\n  private getElementContainerTabIndex(\n    number: number,\n    descriptorUnit: TimePickerDescriptorUnit\n  ): string {\n    const descriptor = this.timePickerDescriptors.find(\n      (d) => d.unit === descriptorUnit\n    );\n\n    if (number === descriptor?.focusedValue) {\n      return '0';\n    }\n\n    return '-1';\n  }\n\n  render() {\n    return (\n      <Host>\n        <ix-date-time-card\n          embedded={this.embedded}\n          timePickerAppearance={true}\n          corners={this.corners}\n          hasFooter={!this.dateTimePickerAppearance}\n          hideHeader={this.hideHeader}\n        >\n          <div class=\"header\" slot=\"header\">\n            <ix-typography format=\"body\">{this.i18nHeader}</ix-typography>\n          </div>\n          <div class=\"clock\">\n            {this.timePickerDescriptors.map((descriptor, index: number) => (\n              <div class=\"flex\">\n                <div class={{ columns: true, hidden: descriptor.hidden }}>\n                  <div class=\"column-header\" title={descriptor.header}>\n                    {descriptor.header}\n                  </div>\n                  <div\n                    data-element-list-id={descriptor.unit}\n                    class=\"element-list\"\n                    tabIndex={-1}\n                  >\n                    {descriptor.numberArray.map((number) => {\n                      return (\n                        <button\n                          data-element-container-id={`${descriptor.unit}-${number}`}\n                          class={{\n                            selected: this.isSelected(descriptor.unit, number),\n                            'element-container': true,\n                          }}\n                          onClick={() => {\n                            this.select(descriptor.unit, number);\n                          }}\n                          onFocus={() =>\n                            this.onUnitCellFocus(descriptor.unit, number)\n                          }\n                          onBlur={(e) =>\n                            this.onUnitCellBlur(descriptor.unit, e)\n                          }\n                          tabindex={this.getElementContainerTabIndex(\n                            number,\n                            descriptor.unit\n                          )}\n                          aria-label={`${descriptor.header}: ${number}`}\n                        >\n                          {this.formatUnitValue(descriptor.unit, number)}\n                        </button>\n                      );\n                    })}\n                    <div class=\"element-list-padding\"></div>\n                  </div>\n                </div>\n\n                {index !== this.timePickerDescriptors.length - 1 && (\n                  <div\n                    class={{\n                      'column-separator': true,\n                      hidden: descriptor.hidden,\n                    }}\n                  >\n                    {this.getColumnSeparator(index)}\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {this.timeRef && (\n              <div class=\"flex\">\n                <div class=\"column-separator\"></div>\n                <div class=\"columns\">\n                  <div class=\"column-header\" title=\"AM/PM\" />\n                  <div class=\"element-list\" tabIndex={-1}>\n                    <button\n                      data-am-pm-id=\"AM\"\n                      class={{\n                        selected: this.timeRef === 'AM',\n                        'element-container': true,\n                      }}\n                      onClick={() => this.changeTimeReference('AM')}\n                      tabindex=\"0\"\n                      aria-label=\"AM\"\n                    >\n                      AM\n                    </button>\n                    <button\n                      data-am-pm-id=\"PM\"\n                      class={{\n                        selected: this.timeRef === 'PM',\n                        'element-container': true,\n                      }}\n                      onClick={() => this.changeTimeReference('PM')}\n                      tabindex=\"0\"\n                      aria-label=\"PM\"\n                    >\n                      PM\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div\n            class={{\n              footer: true,\n              'footer--compact': this.timePickerDescriptors.length <= 2,\n            }}\n            slot=\"footer\"\n          >\n            <ix-button\n              class=\"confirm-button\"\n              onClick={() => {\n                this.timeSelect.emit(this._time?.toFormat(this.format));\n              }}\n            >\n              {this.i18nConfirmTime}\n            </ix-button>\n          </div>\n        </ix-date-time-card>\n      </Host>\n    );\n  }\n}\n"]}