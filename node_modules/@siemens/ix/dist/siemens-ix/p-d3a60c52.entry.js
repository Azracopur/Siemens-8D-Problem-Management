import{r as t,c as e,h as s,H as o}from"./p-CtoreFVF.js";import{p as i}from"./p-8HpPmDK_.js";import{a as r}from"./p-DhE1t8Qh.js";import{A as a}from"./p-C5MWUgDN.js";const h=":host{top:0;right:0;display:block;position:absolute;justify-content:flex-start;align-items:center;opacity:0;max-height:100vh;min-height:1.5rem;background-color:var(--theme-color-1);border-radius:0.25rem;box-shadow:var(--theme-box-shadow-level-3)}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .drawer-container{z-index:100}:host .header{display:flex;position:relative;align-items:center;justify-content:flex-end;padding:0.5rem;width:100%;order:1}:host .header .header-content{flex-grow:1;margin-right:1rem}:host .content{position:relative;flex:1;order:2;height:100%;width:100%;overflow-y:auto}:host(.display-none){display:none}";const n=class{constructor(s){t(this,s);this.open=e(this,"open",7);this.drawerClose=e(this,"drawerClose",7);this.show=false;this.closeOnClickOutside=true;this.fullHeight=false;this.minWidth=16;this.maxWidth=28;this.width=this.minWidth;this.toggle=false;this.callback=this.clickedOutside.bind(this);this.showContent=true}onShowChanged(t,e){if(t===e){return}this.toggleDrawer(t)}async toggleDrawer(t){t=t!==null&&t!==void 0?t:!this.show;if(t){const{defaultPrevented:t}=this.open.emit();if(t){return}this.show=true;if(!this.toggle&&this.divElement){this.slideInRight(this.divElement);setTimeout((()=>{window.addEventListener("mousedown",this.callback)}),a.mediumTime)}}else{const{defaultPrevented:t}=this.drawerClose.emit();if(t){return}this.show=false;if(this.toggle&&this.divElement){this.slideOutRight(this.divElement)}window.removeEventListener("mousedown",this.callback)}this.toggle=this.show;return Promise.resolve()}onCloseClicked(){this.toggleDrawer(false)}clickedOutside(t){if(!this.closeOnClickOutside){return}const e=t.target;const s=e.closest("#div-container");const o=e.closest("#drawer-btn");if(t.target.type!=="button"&&s!==this.divElement&&e!==o){this.show=false}}getConstrainedWidth(t){return Math.min(Math.max(t,this.minWidth),this.maxWidth)}slideOutRight(t){const e=`${this.getConstrainedWidth(this.width==="auto"?this.minWidth:this.width)}rem`;r(t,{duration:a.mediumTime,width:[e,0],opacity:[1,0],easing:"easeInSine",onComplete:()=>{t.classList.add("display-none")}})}slideInRight(t){const e=`${this.getConstrainedWidth(this.width==="auto"?this.minWidth:this.width)}rem`;r(t,{duration:a.mediumTime,width:[0,e],opacity:[0,1],easing:"easeOutSine",onBegin:()=>{t.classList.remove("display-none")},onComplete:()=>{this.showContent=true}})}componentDidLoad(){this.toggleDrawer(this.show)}render(){return s(o,{key:"f40c42d1e7b7e8420c4a8f804a46b722580dd132",class:{"drawer-container":true,"display-none":true},style:{width:"0","max-width":`${this.maxWidth}rem`,height:this.fullHeight?"100%":"auto",overflow:"hidden"},ref:t=>this.divElement=t,"data-testid":"container",id:"div-container"},s("div",{key:"810a3738ce5350281d758808ba93981914760877",style:{width:this.width==="auto"?"auto":`${this.getConstrainedWidth(this.width)}rem`}},s("div",{key:"5601266a5a02c122d1392234fe1c1a755e440bad",class:"header"},s("div",{key:"a43e56c621a03939233e10bb907e6f2bd7a7e176",class:"header-content"},s("slot",{key:"ab7c9e45ca78c512c1a242f53a616a16a98187fe",name:"header"})),s("ix-icon-button",{key:"eaaa6f03ffdf2f5e2d9100ab3f45c4a1f46ef63d",class:"close-button",style:{display:this.showContent?"block":"none"},icon:i,iconColor:"color-soft-text",size:"24",variant:"tertiary",onClick:()=>this.onCloseClicked(),"data-testid":"close-button","aria-label":this.ariaLabelCloseButton})),s("div",{key:"170d74d584fb7b641adaa45800144a27f4354d92",class:"content",style:{display:this.showContent?"block":"none"}},s("slot",{key:"de087859ac50be70b998ab696698df91f6816f21"}))))}static get watchers(){return{show:["onShowChanged"]}}};n.style=h;export{n as ix_drawer};
//# sourceMappingURL=p-d3a60c52.entry.js.map