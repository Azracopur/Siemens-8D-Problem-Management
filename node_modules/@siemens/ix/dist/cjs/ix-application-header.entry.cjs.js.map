{"version":3,"file":"ix-application-header.entry.cjs.js","sources":["src/components/application-header/application-header.scss?tag=ix-application-header&encapsulation=shadow","src/components/application-header/application-header.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n@use 'mixins/shadow-dom/component';\n@use 'mixins/break-points';\n\n:host {\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: end;\n  justify-content: space-between;\n  position: relative;\n  width: 100%;\n  min-height: 3rem;\n  padding-top: var(--ix-safe-area-inset-top, 0rem);\n  padding-right: calc(0.625rem + var(--ix-safe-area-inset-right, 0rem));\n  padding-left: calc(0.625rem + var(--ix-safe-area-inset-left, 0rem));\n\n  color: var(--theme-app-header--color);\n  background-color: var(--theme-app-header--background);\n\n  border-bottom: var(--theme-app-header--border-width) solid\n    var(--theme-app-header--border-color);\n\n  z-index: var(--theme-z-index-fixed);\n\n  @include component.ix-component;\n\n  .left-side,\n  .right-side {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    position: relative;\n    align-items: center;\n    min-width: 0;\n    min-height: 3rem;\n    height: 100%;\n  }\n\n  .left-side {\n    flex: 0 1 auto;\n\n    .app-icon {\n      display: block;\n      position: relative;\n      width: 2rem;\n      min-width: 2rem;\n      max-width: 2rem;\n      height: 2rem;\n      min-height: 2rem;\n      max-height: 2rem;\n    }\n\n    .app-icon.app-icon-outline {\n      outline: 1px solid var(--theme-app-header-app-icon--outline-color);\n      border-radius: 0.125rem;\n    }\n\n    .app-icon img {\n      position: relative;\n      display: block;\n      width: 100%;\n      height: 100%;\n      border-radius: 0.125rem;\n    }\n\n    .app-switch {\n      margin: 0 0.625rem;\n    }\n\n    .app-switch.without-app-icon {\n      margin-left: 0px;\n    }\n\n    .name {\n      display: flex;\n      position: relative;\n      flex-direction: row;\n      flex-wrap: nowrap;\n\n      margin-left: 0.75rem;\n      margin-right: 0.75rem;\n      color: var(--theme-app-header--color);\n      min-width: 0;\n\n      gap: 0.75rem;\n      overflow: hidden;\n    }\n\n    .application-name,\n    .application-name-suffix {\n      overflow: hidden;\n      overflow-wrap: anywhere;\n      text-overflow: ellipsis;\n      text-wrap: nowrap;\n    }\n\n    .application-name {\n      flex: 0 1 auto;\n      min-width: 0;\n      flex-shrink: 0;\n      max-width: 100%;\n    }\n\n    .application-name-suffix {\n      flex: 1 1 auto;\n      margin-top: 0.4rem;\n      min-width: 0;\n      flex-shrink: 1;\n      color: var(--theme-app-header-name-suffix--color);\n    }\n\n    .logo {\n      display: inline-flex;\n      align-items: center;\n      position: relative;\n      height: 32px;\n      overflow: hidden;\n      line-height: 0rem;\n      color: var(--theme-app-header-logo--color);\n      margin-right: 1rem;\n      margin-left: 1rem;\n      min-width: fit-content;\n    }\n\n    .logo.hide-logo {\n      display: none;\n    }\n  }\n\n  .right-side {\n    flex: 1 1 auto;\n    overflow: hidden;\n    justify-content: space-between;\n\n    .content,\n    .secondary {\n      display: flex;\n      position: relative;\n      align-items: center;\n      justify-content: space-between;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n\n    .content {\n      min-width: max-content;\n    }\n\n    .secondary {\n      overflow: hidden;\n    }\n\n    .dropdown {\n      overflow: visible;\n    }\n\n    .dropdown-content > .slot-content-active {\n      padding: 0.5rem 1.5rem 0.5rem 1.5rem;\n      border-top: none;\n    }\n\n    .dropdown-content .slot-content-active ~ .slot-content-active {\n      border-top: 1px solid var(--theme-color-x-weak-bdr);\n    }\n\n    .context-menu {\n      display: none;\n    }\n\n    .context-menu.context-menu-visible {\n      display: block;\n      margin-left: 0.5rem;\n    }\n\n    ::slotted(ix-avatar) {\n      margin-left: 0.5rem;\n    }\n\n    .primary-navigation {\n      align-self: end;\n    }\n  }\n\n  .right-side.sm {\n    justify-content: end;\n  }\n\n  @include break-points.media-breakpoint-match('sm') {\n    .logo {\n      margin-left: 0.5rem;\n      display: none !important;\n    }\n\n    .content,\n    .secondary,\n    .app-icon {\n      display: none;\n    }\n  }\n}\n\n:host(.hide-bottom-border) {\n  border-bottom: none;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { iconApps, iconMoreMenu } from '@siemens/ix-icons/icons';\nimport {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  readTask,\n  State,\n  Watch,\n} from '@stencil/core';\nimport { showAppSwitch } from '../utils/app-switch';\nimport { applicationLayoutService } from '../utils/application-layout';\nimport {\n  ApplicationLayoutContext,\n  AppSwitchConfiguration,\n} from '../utils/application-layout/context';\nimport { Breakpoint, getCurrentBreakpoint } from '../utils/breakpoints';\nimport { ContextType, useContextConsumer } from '../utils/context';\nimport { menuController } from '../utils/menu-service/menu-service';\nimport { hasSlottedElements } from '../utils/shadow-dom';\nimport { Disposable } from '../utils/typed-event';\nimport { a11yBoolean } from '../utils/a11y';\n\n/**\n * @slot default - Place items on the right side of the header. If the screen size is small, the items will be shown inside a dropdown.\n * @slot secondary - Place additional items inside the header. They will appear after logo and name. If the screen size is small, the items will be shown inside a dropdown.\n * @slot overflow - Use this slot to display additional items that do not fit in the default or secondary slot.\n * @slot logo - Place a company logo inside the header. Alternatively the companyLogo property can be set.\n */\n@Component({\n  tag: 'ix-application-header',\n  styleUrl: 'application-header.scss',\n  shadow: true,\n})\nexport class ApplicationHeader {\n  @Element() hostElement!: HTMLIxApplicationHeaderElement;\n\n  /**\n   * Application name\n   */\n  @Prop() name?: string;\n\n  /**\n   * Define a suffix which will be displayed next to the application name\n   *\n   * @since 4.0.0\n   */\n  @Prop() nameSuffix?: string;\n\n  /**\n   * Company logo will be show on the left side of the application name.\n   * It will be hidden on smaller screens.\n   *\n   * @since 4.0.0\n   */\n  @Prop() companyLogo?: string;\n\n  /**\n   * Alt text for the company logo\n   *\n   * @since 4.0.0\n   */\n  @Prop() companyLogoAlt?: string;\n\n  /**\n   * The app icon will be shown as the first element inside the header.\n   * It will be hidden on smaller screens.\n   *\n   * @since 4.0.0\n   */\n  @Prop() appIcon?: string;\n\n  /**\n   * Alt text for the app icon\n   *\n   * @since 4.0.0\n   */\n  @Prop() appIconAlt?: string;\n\n  /**\n   * Render subtle outline around app icon to ensure proper contrast.\n   *\n   * @since 4.0.0\n   */\n  @Prop() appIconOutline = false;\n\n  /**\n   * Hides the bottom border of the header\n   *\n   * @since 4.0.0\n   */\n  @Prop() hideBottomBorder = false;\n\n  /**\n   * Controls the visibility of the menu toggle button based on the context of the application header.\n   *\n   * When the application header is utilized outside the application frame, the menu toggle button is displayed.\n   * Conversely, if the header is within the application frame, this property is ineffective.\n   */\n  @Prop({ mutable: true }) showMenu?: boolean = false;\n\n  /**\n   * ARIA label for the menu expand icon button\n   *\n   * @since 3.2.0\n   */\n  @Prop() ariaLabelMenuExpandIconButton?: string;\n\n  /**\n   * ARIA label for the app switch icon button\n   *\n   * @since 3.2.0\n   */\n  @Prop() ariaLabelAppSwitchIconButton?: string;\n\n  /**\n   * ARIA label for the more menu icon button\n   *\n   * @since 3.2.0\n   */\n  @Prop() ariaLabelMoreMenuIconButton?: string;\n\n  /**\n   * Event emitted when the menu toggle button is clicked\n   */\n  @Event() menuToggle!: EventEmitter<boolean>;\n\n  /**\n   * Event emitted when the app switch button is clicked\n   *\n   * @since 3.0.0\n   */\n  @Event() openAppSwitch!: EventEmitter<void>;\n\n  @State() breakpoint: Breakpoint = 'lg';\n  @State() menuExpanded = false;\n  @State() suppressResponsive = false;\n\n  @State() hasSlottedLogo = false;\n  @State() hasOverflowContextMenu = false;\n  @State() hasSecondarySlotElements = false;\n  @State() hasDefaultSlotElements = false;\n  @State() hasOverflowSlotElements = false;\n  @State() applicationLayoutContext?: ContextType<\n    typeof ApplicationLayoutContext\n  >;\n  private menuDisposable?: Disposable;\n  private modeDisposable?: Disposable;\n  private callbackUpdateAppSwitchModal?: (\n    config: AppSwitchConfiguration\n  ) => void;\n\n  get contentBackground() {\n    return this.hostElement.shadowRoot!.querySelector('.dropdown-content');\n  }\n\n  componentWillLoad() {\n    this.breakpoint = getCurrentBreakpoint();\n\n    useContextConsumer(\n      this.hostElement,\n      ApplicationLayoutContext,\n      (ctx) => {\n        this.breakpoint = applicationLayoutService.breakpoint;\n        this.applicationLayoutContext = ctx;\n\n        this.tryUpdateAppSwitch();\n      },\n      true\n    );\n\n    this.menuDisposable = menuController.expandChange.on((show) => {\n      this.menuExpanded = show;\n    });\n\n    this.modeDisposable = applicationLayoutService.onChange.on((mode) => {\n      if (this.suppressResponsive) {\n        return;\n      }\n\n      this.breakpoint = mode;\n    });\n\n    this.updateHasSlotAssignedElementsStates();\n  }\n\n  componentDidLoad() {\n    this.attachSiemensLogoIfLoaded();\n  }\n\n  disconnectedCallback() {\n    this.menuDisposable?.dispose();\n    this.modeDisposable?.dispose();\n  }\n\n  @Watch('applicationLayoutContext')\n  watchApplicationLayoutContext() {\n    if (this.applicationLayoutContext) {\n      this.showMenu = false;\n    }\n  }\n  @Watch('suppressResponsive')\n  watchSuppressResponsive() {\n    this.breakpoint = 'md';\n  }\n\n  private checkLogoSlot() {\n    const slotElement = this.hostElement.shadowRoot!.querySelector(\n      'slot[name=\"logo\"]'\n    ) as HTMLSlotElement;\n\n    const isSiemensLogoDefined =\n      window.customElements.get('ix-siemens-logo') !== undefined;\n\n    if (isSiemensLogoDefined) {\n      return hasSlottedElements(slotElement);\n    }\n\n    let assignedElements = slotElement?.assignedElements({ flatten: true });\n\n    assignedElements = assignedElements?.filter(\n      (element) => element.tagName !== 'IX-SIEMENS-LOGO'\n    );\n\n    return assignedElements?.length !== 0;\n  }\n\n  private attachSiemensLogoIfLoaded() {\n    if (this.companyLogo) {\n      return;\n    }\n\n    if (!this.checkLogoSlot()) {\n      const logoElement = document.createElement('ix-siemens-logo');\n      logoElement.slot = 'logo';\n      this.hostElement.appendChild(logoElement);\n    }\n  }\n\n  private async onMenuClick() {\n    if (this.applicationLayoutContext) {\n      menuController.toggle();\n    } else {\n      this.menuExpanded = !this.menuExpanded;\n    }\n\n    this.menuToggle.emit(this.menuExpanded);\n  }\n\n  private resolveContextMenuButton() {\n    return new Promise<HTMLElement>((resolve) =>\n      readTask(() =>\n        resolve(\n          this.hostElement.shadowRoot!.querySelector(\n            '[data-context-menu]'\n          ) as HTMLElement\n        )\n      )\n    );\n  }\n\n  private tryUpdateAppSwitch() {\n    if (\n      !this.callbackUpdateAppSwitchModal ||\n      !this.applicationLayoutContext?.appSwitchConfig\n    ) {\n      return;\n    }\n\n    this.callbackUpdateAppSwitchModal(\n      this.applicationLayoutContext?.appSwitchConfig\n    );\n  }\n\n  private async showAppSwitch() {\n    const { defaultPrevented } = this.openAppSwitch.emit();\n\n    if (defaultPrevented) {\n      return;\n    }\n\n    if (!this.applicationLayoutContext?.appSwitchConfig) {\n      return;\n    }\n\n    this.callbackUpdateAppSwitchModal = await showAppSwitch(\n      this.applicationLayoutContext?.appSwitchConfig\n    );\n  }\n\n  private updateHasSlotAssignedElementsStates() {\n    const defaultSlot = this.hostElement.shadowRoot!.querySelector(\n      '.content slot:not([name])'\n    );\n\n    const secondarySlot = this.hostElement.shadowRoot!.querySelector(\n      '.content slot[name=\"secondary\"]'\n    );\n\n    const overflowSlot = this.hostElement.shadowRoot!.querySelector(\n      '.content slot[name=\"overflow\"]'\n    );\n\n    this.hasDefaultSlotElements = hasSlottedElements(defaultSlot);\n    this.hasSecondarySlotElements = hasSlottedElements(secondarySlot);\n    this.hasOverflowSlotElements = hasSlottedElements(overflowSlot);\n\n    this.hasOverflowContextMenu =\n      this.hasDefaultSlotElements || this.hasSecondarySlotElements;\n  }\n\n  private onContentBgClick(e: MouseEvent) {\n    if (e.target === this.contentBackground) {\n      e.preventDefault();\n    }\n  }\n\n  render() {\n    const hasApplicationContextAvailable = !!this.applicationLayoutContext;\n\n    const showMenuByApplicationFrame =\n      this.breakpoint === 'sm' &&\n      this.suppressResponsive === false &&\n      hasApplicationContextAvailable;\n\n    const showApplicationSwitch =\n      this.applicationLayoutContext?.appSwitchConfig &&\n      this.breakpoint !== 'sm' &&\n      this.suppressResponsive === false;\n\n    const showCompanyLogoByProperty =\n      this.breakpoint !== 'sm' && !!this.companyLogo;\n\n    return (\n      <Host\n        class={{\n          [`breakpoint-${this.breakpoint}`]: true,\n          'hide-bottom-border': this.hideBottomBorder,\n        }}\n        slot=\"application-header\"\n      >\n        <div class=\"left-side\">\n          {this.appIcon && this.breakpoint !== 'sm' && (\n            <div\n              class={{\n                'app-icon': true,\n                'app-icon-outline': this.appIconOutline,\n              }}\n            >\n              <img src={this.appIcon} alt={this.appIconAlt} />\n            </div>\n          )}\n          {(this.showMenu || showMenuByApplicationFrame) && (\n            <ix-menu-expand-icon\n              onClick={() => this.onMenuClick()}\n              expanded={this.menuExpanded}\n              ixAriaLabel={this.ariaLabelMenuExpandIconButton}\n            ></ix-menu-expand-icon>\n          )}\n          {showApplicationSwitch && (\n            <ix-icon-button\n              onClick={() => this.showAppSwitch()}\n              icon={iconApps}\n              variant=\"subtle-tertiary\"\n              class={{\n                'app-switch': true,\n                'without-app-icon': !this.appIcon,\n              }}\n              aria-label={this.ariaLabelAppSwitchIconButton}\n            ></ix-icon-button>\n          )}\n          {showCompanyLogoByProperty && (\n            <div class=\"logo\">\n              <img src={this.companyLogo} alt={this.companyLogoAlt} />\n            </div>\n          )}\n          <div\n            class={{\n              logo: true,\n              'hide-logo': !this.hasSlottedLogo,\n            }}\n          >\n            <slot\n              name=\"logo\"\n              onSlotchange={() => (this.hasSlottedLogo = this.checkLogoSlot())}\n            ></slot>\n          </div>\n          <div class=\"name\">\n            <ix-typography format=\"body-lg\" class=\"application-name\">\n              {this.name}\n            </ix-typography>\n            {this.nameSuffix && this.breakpoint !== 'sm' && (\n              <ix-typography format=\"body-xs\" class=\"application-name-suffix\">\n                {this.nameSuffix}\n              </ix-typography>\n            )}\n          </div>\n        </div>\n        <div class={{ 'right-side': true, sm: this.breakpoint === 'sm' }}>\n          {this.breakpoint !== 'sm' && (\n            <div class=\"secondary\">\n              <slot name=\"secondary\"></slot>\n            </div>\n          )}\n          <div class=\"content\">\n            {this.breakpoint !== 'sm' && <slot></slot>}\n            <ix-icon-button\n              class={{\n                'context-menu': true,\n                'context-menu-visible':\n                  this.hasOverflowContextMenu || this.hasOverflowSlotElements,\n              }}\n              data-context-menu\n              data-testid=\"show-more\"\n              icon={iconMoreMenu}\n              variant=\"subtle-tertiary\"\n              aria-label={this.ariaLabelMoreMenuIconButton}\n              aria-hidden={a11yBoolean(\n                !(this.hasOverflowContextMenu || this.hasOverflowSlotElements)\n              )}\n            ></ix-icon-button>\n            <ix-dropdown\n              data-overflow-dropdown\n              class=\"dropdown\"\n              discoverAllSubmenus\n              trigger={this.resolveContextMenuButton()}\n              aria-hidden={a11yBoolean(\n                !(this.hasOverflowContextMenu || this.hasOverflowSlotElements)\n              )}\n            >\n              <div\n                class=\"dropdown-content\"\n                onClick={(e) => this.onContentBgClick(e)}\n              >\n                {this.breakpoint === 'sm' && (\n                  <div\n                    class={{\n                      'slot-content': true,\n                      'slot-content-active': this.hasSecondarySlotElements,\n                    }}\n                  >\n                    <slot\n                      name=\"secondary\"\n                      onSlotchange={() =>\n                        this.updateHasSlotAssignedElementsStates()\n                      }\n                    ></slot>\n                  </div>\n                )}\n                {this.breakpoint === 'sm' && (\n                  <div\n                    class={{\n                      'slot-content': true,\n                      'slot-content-active': this.hasDefaultSlotElements,\n                    }}\n                  >\n                    <slot\n                      onSlotchange={() =>\n                        this.updateHasSlotAssignedElementsStates()\n                      }\n                    ></slot>\n                  </div>\n                )}\n                <div\n                  class={{\n                    'slot-content': true,\n                    'slot-content-active': this.hasOverflowSlotElements,\n                  }}\n                >\n                  <slot\n                    name=\"overflow\"\n                    onSlotchange={() =>\n                      this.updateHasSlotAssignedElementsStates()\n                    }\n                  ></slot>\n                </div>\n              </div>\n            </ix-dropdown>\n            <slot name=\"ix-application-header-avatar\"></slot>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":["getCurrentBreakpoint","useContextConsumer","ApplicationLayoutContext","applicationLayoutService","menuController","hasSlottedElements","readTask","showAppSwitch","h","Host","iconApps","iconMoreMenu","a11yBoolean"],"mappings":"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"}