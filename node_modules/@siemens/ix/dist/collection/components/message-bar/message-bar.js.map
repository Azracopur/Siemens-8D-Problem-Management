{"version":3,"file":"message-bar.js","sourceRoot":"","sources":["../../../src/components/message-bar/message-bar.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  Component,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  State,\n} from '@stencil/core';\nimport { animate } from 'animejs';\nimport { NotificationColor } from '../utils/notification-color';\nimport {\n  iconClose,\n  iconError,\n  iconInfo,\n  iconNotification,\n  iconSuccess,\n  iconWarning,\n  iconWarningRhomb,\n} from '@siemens/ix-icons/icons';\n\ninterface MessageTypeConfig {\n  icon?: string;\n  color: NotificationColor;\n}\n\n@Component({\n  tag: 'ix-message-bar',\n  styleUrl: 'message-bar.scss',\n  shadow: true,\n})\nexport class MessageBar {\n  /**\n   * Specifies the type of the alert.\n   */\n  @Prop() type:\n    | 'alarm'\n    | 'critical'\n    | 'warning'\n    | 'success'\n    | 'info'\n    | 'neutral'\n    | 'primary' = 'info';\n\n  /**\n   * If true, close button is disabled and alert cannot be dismissed by the user\n   */\n  @Prop() persistent = false;\n\n  /**\n   * An event emitted when the close button is clicked\n   */\n  @Event() closedChange!: EventEmitter;\n\n  /**\n   * An event emitted when the close animation is completed\n   */\n  @Event() closeAnimationCompleted!: EventEmitter;\n\n  @State() icon?: string;\n  @State() color?: NotificationColor;\n\n  private static readonly duration = 300;\n  private static readonly messageTypeConfigs: Record<\n    string,\n    MessageTypeConfig\n  > = {\n    //TODO(IX-3400): Replace icon colors with proper CSS variables when available\n    alarm: { icon: iconError, color: 'color-alarm' },\n    critical: { icon: iconWarningRhomb, color: 'color-critical' },\n    warning: { icon: iconWarning, color: 'color-warning-text' },\n    success: { icon: iconSuccess, color: 'color-success' },\n    info: { icon: iconInfo, color: 'color-info' },\n    neutral: { icon: iconNotification, color: 'color-neutral' },\n    primary: { icon: iconNotification, color: 'color-primary' },\n  };\n\n  private divElement?: HTMLElement;\n\n  componentWillRender() {\n    const config = MessageBar.messageTypeConfigs[this.type];\n    if (config) {\n      this.icon = config.icon;\n      this.color = config.color;\n    }\n  }\n\n  private closeAlert(el: HTMLElement) {\n    const { defaultPrevented } = this.closedChange.emit();\n\n    if (!defaultPrevented) {\n      animate(el, {\n        duration: MessageBar.duration,\n        opacity: [1, 0],\n        easing: 'easeOutSine',\n        onComplete: () => {\n          el.classList.add('message-bar-hidden');\n          this.closeAnimationCompleted.emit();\n        },\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{ 'message-container': true, [this.type]: true }}\n          role=\"alert\"\n          ref={(el) => (this.divElement = el as HTMLElement)}\n        >\n          <ix-icon color={this.color} name={this.icon}></ix-icon>\n          <div class=\"message-content\">\n            <slot></slot>\n          </div>\n          {!this.persistent && (\n            <ix-icon-button\n              icon={iconClose}\n              iconColor=\"color-soft-text\"\n              size=\"24\"\n              variant=\"tertiary\"\n              onClick={() => {\n                if (this.divElement) {\n                  this.closeAlert(this.divElement);\n                }\n              }}\n              data-testid=\"close-btn\"\n            ></ix-icon-button>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"]}